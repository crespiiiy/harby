<script type="text/javascript">
    var gk_isXlsx = false;
    var gk_xlsxFileLookup = {};
    var gk_fileData = {};
    function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                var filteredData = jsonData.filter(row =>
                    row.some(cell => cell !== '' && cell !== null && cell !== undefined)
                );
                var csv = XLSX.utils.aoa_to_sheet(filteredData);
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
    }
</script>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0f0f0f">
    <title>Green Hat Platform - منصة القبعة الخضراء</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
    <script src="config.js"></script>
    <script src="membership-system.js"></script>
    <script src="comments-system.js"></script>
    <script src="private-chat.js"></script>
    <script src="visitor-counter.js"></script>
    <link rel="icon" type="image/png" href="https://img.icons8.com/nolan/64/hacker.png">
    <style>
        :root {
            --primary-color: #00ff99;
            --secondary-color: #1e1e2f;
            --bg-gradient: linear-gradient(135deg, #0f0f0f, #1a1a2e);
            --text-color: #ffffff;
            --input-bg: #2b2b3d;
            --shadow-glow: 0 0 20px rgba(0, 255, 150, 0.3);
            --danger-color: #ff3547;
            --warning-color: #ffbb33;
            --success-color: #00c851;
            --info-color: #33b5e5;
            --dark-overlay: rgba(0, 0, 0, 0.7);
            --terminal-green: #0f0;
            --terminal-bg: #000;
            --encryption-color: #00ffcc;
        }

        html, body {
            background: var(--bg-gradient);
            color: var(--text-color);
            font-family: 'Cairo', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            position: relative;
            overscroll-behavior-x: none;
            scroll-behavior: smooth;
        }

        /* منع ظهور الإطار الأبيض عند السحب للجوانب فقط */
        body::before {
            content: "";
            position: fixed;
            top: -100px;
            left: 0;
            right: 0;
            height: 100px;
            background: var(--bg-gradient);
            z-index: 9999;
            pointer-events: none;
        }

        body::after {
            content: "";
            position: fixed;
            bottom: -100px;
            left: 0;
            right: 0;
            height: 100px;
            background: var(--bg-gradient);
            z-index: 9999;
            pointer-events: none;
        }

        .container {
            max-width: 1200px;
            padding: 40px 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            animation: fadeInDown 0.5s ease;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-container svg {
            width: 50px;
            height: 50px;
            filter: drop-shadow(var(--shadow-glow));
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        .logo-container:hover svg {
            transform: scale(1.1);
            filter: drop-shadow(0 0 30px rgba(0, 255, 150, 0.5));
        }

        .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
            text-shadow: var(--shadow-glow);
        }

        .language-switcher {
            position: relative;
            display: inline-flex;
            align-items: center;
            background: var(--secondary-color);
            border-radius: 50px;
            padding: 5px;
            box-shadow: var(--shadow-glow);
            transition: all 0.3s ease;
        }

        .language-switcher select {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-size: 1rem;
            padding: 8px 25px 8px 15px;
            appearance: none;
            cursor: pointer;
        }

        .language-switcher select:focus {
            outline: none;
        }

        .language-switcher::after {
            content: '\f107';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: var(--primary-color);
            position: absolute;
            right: 10px;
            pointer-events: none;
        }

        .card {
            background: var(--secondary-color);
            border-radius: 15px;
            box-shadow: var(--shadow-glow);
            padding: 30px;
            margin-bottom: 30px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2), 0 0 30px rgba(0, 255, 150, 0.5);
        }

        .section-title {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 25px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--primary-color);
        }

        .form-group {
            position: relative;
            margin-bottom: 20px;
        }

        .form-label {
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 5px;
            display: block;
        }

        crisp-client {
            display: none !important;
        }

        .form-control,
        .form-select {
            background: var(--input-bg);
            border: 1px solid var(--primary-color);
            border-radius: 10px;
            color: var(--text-color);
            padding: 12px 15px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(0, 255, 150, 0.5);
            outline: none;
        }

        .form-group i {
            position: absolute;
            top: 50%;
            left: 15px;
            transform: translateY(-50%);
            color: var(--primary-color);
        }

        .btn-custom {
            background: var(--primary-color);
            color: #000;
            font-weight: 600;
            border-radius: 10px;
            padding: 12px 30px;
            border: none;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .btn-custom:hover {
            background: #00cc7a;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 150, 0.7);
        }

        .btn-custom:active {
            background: linear-gradient(to bottom, #00cc7a, #00994d);
        }

        .alert-info {
            background: var(--input-bg);
            border: 1px solid var(--primary-color);
            color: var(--text-color);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .table-dark {
            background: var(--input-bg);
            border-radius: 10px;
            overflow: hidden;
        }

        .table-dark th,
        .table-dark td {
            border: none;
            padding: 15px;
            color: var(--text-color);
        }

        .table-dark th {
            background: var(--secondary-color);
            font-weight: 600;
        }

        .table-dark tr {
            transition: background 0.2s ease;
        }

        .table-dark tr:hover {
            background: rgba(0, 255, 150, 0.1);
        }

        .toast {
            background: var(--secondary-color);
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            border-radius: 10px;
        }

        .currency-icon {
            margin-left: 8px;
            font-size: 1rem;
        }

        .currency-logo {
            width: 20px;
            height: 20px;
            margin-left: 5px;
            vertical-align: middle;
            display: inline-block;
        }

        #payment-details {
            display: none;
        }

        .error-page {
            display: none;
            text-align: center;
            padding: 50px;
            animation: fadeIn 0.5s ease;
        }

        .error-page h2 {
            color: #ff4d4d;
            font-size: 2rem;
        }

        .tooltip-text {
            font-size: 0.85rem;
            color: #aaa;
            margin-top: 5px;
            display: block;
        }

        .service-status {
            display: inline-block;
            margin-right: 10px;
            padding: 2px 8px;
            border-radius: 5px;
            font-size: 0.8rem;
            background: #28a745;
            color: white;
        }

        .progress {
            height: 10px;
            background: var(--input-bg);
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar-custom {
            width: 100%;
            height: 10px;
            appearance: none;
            border: none;
            border-radius: 5px;
            background: var(--input-bg);
            color: var(--primary-color);
        }

        .progress-bar-custom::-webkit-progress-bar {
            background: var(--input-bg);
            border-radius: 5px;
        }

        .progress-bar-custom::-webkit-progress-value {
            background: var(--primary-color);
            border-radius: 5px;
            box-shadow: 0 0 10px var(--primary-color);
            transition: width 0.3s ease;
        }

        .progress-bar-custom::-moz-progress-bar {
            background: var(--primary-color);
            border-radius: 5px;
            box-shadow: 0 0 10px var(--primary-color);
        }

        .chat-bubble {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-glow);
        }

        .chat-window {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            background: var(--secondary-color);
            border-radius: 10px;
            box-shadow: var(--shadow-glow);
            display: none;
        }

        .chat-header {
            background: var(--primary-color);
            color: #000;
            padding: 10px;
            border-radius: 10px 10px 0 0;
            font-weight: 600;
        }

        .chat-body {
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
        }

        .chat-input {
            width: 100%;
            padding: 10px;
            border: none;
            background: var(--input-bg);
            color: var(--text-color);
            border-radius: 0 0 10px 10px;
        }

        .chat-input:focus {
            outline: none;
            box-shadow: 0 0 5px var(--primary-color);
        }

        /* أنماط رسائل الدردشة */
        .chat-message-user,
        .chat-message-admin {
            display: flex;
            margin-bottom: 15px;
            animation: fadeIn 0.3s ease;
        }

        .chat-message-user {
            justify-content: flex-end;
        }

        .chat-message-admin {
            justify-content: flex-start;
        }

        .chat-avatar {
            width: 30px;
            height: 30px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            color: #000;
            font-size: 0.8rem;
        }

        .chat-content {
            background: var(--input-bg);
            padding: 10px 15px;
            border-radius: 10px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .chat-message-user .chat-content {
            background: var(--primary-color);
            color: #000;
        }

        /* مؤشر الكتابة */
        .typing-indicator {
            display: flex;
            align-items: center;
        }

        .typing-indicator .chat-content {
            display: flex;
            align-items: center;
            min-width: 40px;
            min-height: 20px;
        }

        .typing-indicator .dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--text-color);
            margin: 0 3px;
            opacity: 0.6;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-indicator .dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-indicator .dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator .dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }

        /* أنماط زر إرسال الدردشة */
        .chat-footer {
            display: flex;
            border-top: 1px solid var(--input-bg);
        }

        .chat-input-field {
            flex: 1;
        }

        .chat-send {
            background: var(--primary-color);
            color: #000;
            border: none;
            width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 0 0 10px 0;
            transition: background 0.3s ease;
        }

        .chat-send:hover {
            background: #00cc7a;
        }

        .chat-header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header-title {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-close-chat {
            background: transparent;
            border: none;
            color: #000;
            cursor: pointer;
            font-size: 1rem;
            padding: 5px;
        }

        .list-group-item {
            background: transparent;
            color: var(--text-color);
            border: none;
        }

        #landing-page {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        #landing-page .landing-card {
            background: rgba(30, 30, 47, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 500px;
            box-shadow: var(--shadow-glow);
            animation: slideIn 1s ease-out;
        }

        #landing-page h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(0, 255, 150, 0.5);
        }

        #landing-page p {
            font-size: 1.1rem;
            color: #ddd;
            margin-bottom: 30px;
        }

        #landing-page .btn-custom {
            font-size: 1.2rem;
            padding: 15px 50px;
            animation: pulse 2s infinite;
        }

        .security-indicators {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .security-indicator {
            background: rgba(0, 255, 150, 0.1);
            border: 1px solid var(--primary-color);
            border-radius: 20px;
            padding: 8px 15px;
            color: var(--primary-color);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 0 10px rgba(0, 255, 150, 0.2);
        }

        .encryption-display {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--primary-color);
            border-radius: 10px;
            padding: 15px;
            max-width: 300px;
            margin: 0 auto;
            font-family: 'Courier New', monospace;
            box-shadow: 0 0 15px rgba(0, 255, 150, 0.3);
        }

        .encryption-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #ccc;
            font-size: 0.9rem;
        }

        .encryption-label {
            color: #999;
        }

        .encryption-value {
            color: var(--primary-color);
        }

        .encryption-value.secure {
            color: var(--success-color);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* أنماط لمجموعة الأزرار */
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* أنماط للميزات الجديدة */
        .feature-card {
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 20px;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--primary-color);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 150, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
            animation: pulse-glow 3s infinite;
            z-index: 0;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 255, 150, 0.3);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .feature-content {
            position: relative;
            z-index: 1;
        }

        .feature-content h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .feature-content p {
            margin-bottom: 15px;
            color: var(--text-color);
        }

        /* أنماط للواجهة ثلاثية الأبعاد */
        .interface-3d-container {
            position: relative;
            width: 100%;
            height: 400px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        #3d-interface-container {
            width: 100%;
            height: 100%;
            background: var(--secondary-color);
        }

        .service-name {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: var(--primary-color);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            text-align: center;
            min-width: 200px;
            border: 1px solid var(--primary-color);
            box-shadow: 0 0 10px rgba(0, 255, 150, 0.5);
        }

        .interface-3d-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        /* أنماط لنظام تشفير الملفات */
        .encryption-panel {
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--primary-color);
        }

        .encryption-panel h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .encryption-progress {
            height: 10px;
            background: var(--input-bg);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }

        .encryption-progress-bar {
            height: 100%;
            background: var(--primary-color);
            border-radius: 5px;
            width: 0;
            transition: width 0.3s ease;
        }

        /* أنماط لنظام تحليل الثغرات */
        .log-entry {
            font-family: 'Courier New', monospace;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .log-time {
            color: var(--info-color);
            margin-right: 5px;
        }

        .log-icon {
            margin-right: 5px;
        }

        .log-message {
            color: var(--text-color);
        }

        /* أنماط لنظام المكافآت والتحديات */
        .achievement-card {
            display: flex;
            align-items: center;
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid var(--primary-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .achievement-card.unlocked {
            border-color: var(--success-color);
        }

        .achievement-card.locked {
            opacity: 0.7;
        }

        .achievement-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 15px rgba(0, 255, 150, 0.3);
        }

        .achievement-icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-right: 15px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 255, 150, 0.1);
            border-radius: 50%;
        }

        .achievement-info {
            flex-grow: 1;
        }

        .achievement-info h5 {
            color: var(--text-color);
            margin-bottom: 5px;
        }

        .achievement-info p {
            color: #aaa;
            margin-bottom: 0;
            font-size: 0.9rem;
        }

        .achievement-status {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .achievement-notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            align-items: center;
            border: 1px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(0, 255, 150, 0.5);
            z-index: 9999;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .achievement-notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .achievement-notification-icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-right: 15px;
        }

        .achievement-notification-info h5 {
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .achievement-notification-info p {
            color: var(--text-color);
            margin-bottom: 0;
        }

        /* أنماط لنظام الدفع بالعملات المشفرة */
        .qr-code-container {
            width: 250px;
            height: 250px;
            margin: 0 auto;
            background: #fff;
            padding: 10px;
            border-radius: 10px;
        }

        .qr-code-grid {
            display: grid;
            grid-template-columns: repeat(25, 1fr);
            grid-template-rows: repeat(25, 1fr);
            width: 100%;
            height: 100%;
        }

        .qr-code-cell {
            width: 100%;
            height: 100%;
        }

        .qr-code-cell.black {
            background: #000;
        }

        .qr-code-cell.white {
            background: #fff;
        }

        /* زر بحدود فقط */
        .btn-outline-custom {
            background: transparent;
            color: var(--primary-color);
            font-weight: 600;
            border-radius: 10px;
            padding: 12px 30px;
            border: 2px solid var(--primary-color);
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .btn-outline-custom:hover {
            background: rgba(0, 255, 150, 0.1);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 150, 0.5);
        }

        .btn-outline-custom:active {
            background: rgba(0, 255, 150, 0.2);
        }

        /* أنماط لحاوية تأثير الهاكر */
        #hacker-effect-container {
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        #particles-js {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .visitor-stats {
            display: none;
            margin-top: 20px;
            background: var(--secondary-color);
            border-radius: 15px;
            box-shadow: var(--shadow-glow);
            padding: 20px;
            text-align: center;
        }

        .visitor-stats.active {
            display: block;
        }

        /* New Styles for Service Description Box */
        .service-description {
            display: none;
            background: var(--input-bg);
            border: 1px solid var(--primary-color);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--text-color);
            animation: fadeIn 0.3s ease;
        }

        .service-description.active {
            display: block;
        }

        /* أنماط بطاقات الخدمات - تصميم محسن */
        .service-cards-container {
            margin-bottom: 20px;
            max-height: 500px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--secondary-color);
        }

        .service-cards-container::-webkit-scrollbar {
            width: 6px;
        }

        .service-cards-container::-webkit-scrollbar-track {
            background: var(--secondary-color);
        }

        .service-cards-container::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 6px;
        }

        .service-category-title {
            color: var(--primary-color);
            font-size: 1.1rem;
            margin-bottom: 8px;
            border-bottom: 1px solid var(--primary-color);
            padding-bottom: 5px;
            display: flex;
            align-items: center;
            position: sticky;
            top: 0;
            background: var(--bg-gradient);
            z-index: 10;
            padding-top: 5px;
        }

        .service-card {
            background: var(--secondary-color);
            border: 1px solid var(--input-bg);
            border-radius: 8px;
            padding: 8px 10px;
            height: 100%;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            transition: all 0.2s ease;
            cursor: pointer;
            margin-bottom: 8px;
        }

        .service-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 0 10px rgba(0, 255, 150, 0.2);
        }

        .service-card.selected {
            border: 2px solid var(--primary-color);
            background: rgba(0, 255, 153, 0.1);
        }

        .service-card-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-right: 10px;
            min-width: 30px;
            display: flex;
            justify-content: center;
        }

        .service-card-content {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .service-card-content h5 {
            font-size: 0.9rem;
            margin-bottom: 0;
            color: var(--text-color);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 150px;
        }

        .service-card-price {
            font-size: 1rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0;
            margin-left: 10px;
        }

        .service-card-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(40, 167, 69, 0.8);
            color: white;
            border-radius: 20px;
            padding: 1px 6px;
            font-size: 0.65rem;
        }

        .service-card-badge.premium {
            background: rgba(255, 193, 7, 0.8);
            color: #000;
        }

        /* تحسين عرض البطاقات في الشاشات الصغيرة */
        @media (max-width: 768px) {
            .service-cards-container {
                max-height: 400px;
            }

            .service-card {
                padding: 6px 8px;
            }

            .service-card-icon {
                font-size: 1.2rem;
                min-width: 25px;
            }

            .service-card-content h5 {
                font-size: 0.8rem;
                max-width: 120px;
            }

            .service-card-price {
                font-size: 0.9rem;
            }
        }



        /* تحسينات إضافية لبطاقات الخدمات */
        button.service-card {
            width: 100%;
            text-align: left;
            background: none;
            border: none;
            padding: 0;
        }

        .service-card .service-card-content h5 {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .service-description-content {
            background: rgba(30, 30, 47, 0.7);
            border-radius: 10px;
            padding: 15px;
            border-left: 3px solid var(--primary-color);
        }

        .service-description-content h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .service-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.85rem;
            color: #aaa;
        }

        .service-meta span {
            display: flex;
            align-items: center;
        }

        .service-meta i {
            margin-right: 5px;
            color: var(--primary-color);
        }

        /* Styles for Blurred Download Link */
        .blurred-link {
            filter: blur(4px);
            pointer-events: none;
            user-select: none; /* Prevent text selection */
            transition: filter 0.3s ease;
        }

        .blurred-link.active {
            filter: none;
            pointer-events: auto;
            user-select: auto; /* Allow text selection when active */
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 255, 150, 0.7); }
            50% { box-shadow: 0 0 20px 10px rgba(0, 255, 150, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 255, 150, 0); }
        }

        @media (max-width: 768px) {
            .logo-container svg {
                width: 40px;
                height: 40px;
            }

            .logo-text {
                font-size: 1.5rem;
            }

            .card {
                padding: 20px;
            }

            .section-title {
                font-size: 1.3rem;
            }

            .btn-custom {
                width: 100%;
                padding: 10px;
            }

            .chat-window {
                width: 90%;
            }

            #landing-page .landing-card {
                padding: 20px;
                max-width: 90%;
            }

            #landing-page h1 {
                font-size: 2rem;
            }

            #landing-page p {
                font-size: 1rem;
            }
        }

        @media (max-width: 576px) {
            .logo-container svg {
                width: 30px;
                height: 30px;
            }

            .logo-text {
                font-size: 1.2rem;
            }

            .form-group i {
                left: 10px;
            }

            .table-dark th,
            .table-dark td {
                font-size: 0.85rem;
                padding: 10px;
            }
        }

        [lang="en"] {
            direction: ltr;
        }

        [lang="en"] .form-group i {
            left: auto;
            right: 15px;
        }

        [lang="en"] .currency-icon,
        [lang="en"] .currency-logo {
            margin-left: 0;
            margin-right: 5px;
        }

        [lang="en"] .section-title::after {
            left: auto;
            right: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .visitor-counter {
            text-align: center;
            padding: 20px;
            margin: 40px auto;
            background: var(--secondary-color);
            border-radius: 15px;
            box-shadow: var(--shadow-glow);
            max-width: 300px;
            animation: pulse 2s infinite;
        }

        .visitor-counter h3 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .visitor-counter span {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
            text-shadow: 0 0 10px rgba(0, 255, 150, 0.5);
        }

        /* Estilos para las nuevas secciones */
        .security-badge {
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--primary-color);
        }

        .security-badge:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(0, 255, 150, 0.5);
        }

        .security-badge::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 150, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
            animation: pulse-glow 3s infinite;
            z-index: 0;
        }

        .security-badge h5 {
            color: var(--primary-color);
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        .security-status {
            margin-top: 10px;
            position: relative;
            z-index: 1;
        }

        .encryption-animation {
            margin-top: 15px;
            padding: 5px;
            background: var(--terminal-bg);
            border-radius: 5px;
            position: relative;
            z-index: 1;
        }

        .encryption-text {
            color: var(--terminal-green);
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            display: inline-block;
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            animation: typing 3s steps(30) infinite;
        }

        .security-verification {
            background: var(--input-bg);
            border-radius: 10px;
            padding: 15px;
            display: inline-block;
            border: 1px solid var(--primary-color);
        }

        .verification-text {
            color: var(--text-color);
            font-size: 0.9rem;
        }

        .verification-status {
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--danger-color);
            margin-right: 5px;
        }

        .status-dot.active {
            background: var(--success-color);
            box-shadow: 0 0 10px var(--success-color);
            animation: pulse 2s infinite;
        }

        .status-text {
            color: var(--success-color);
            font-size: 0.9rem;
        }

        /* أنماط لآراء العملاء */
        .testimonials-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .testimonial {
            background: var(--input-bg);
            border-radius: 10px;
            padding: 20px;
            flex: 1 1 calc(50% - 20px);
            min-width: 250px;
            border: 1px solid var(--primary-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* أنماط للآراء الإنجليزية */
        .english-testimonial {
            direction: ltr;
            text-align: left;
        }

        .english-testimonial .testimonial-footer {
            flex-direction: row-reverse;
        }

        .testimonial:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 15px rgba(0, 255, 150, 0.3);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .testimonial-avatar {
            font-size: 2rem;
            color: var(--primary-color);
            margin-right: 15px;
        }

        .testimonial-info h5 {
            margin: 0;
            color: var(--text-color);
        }

        .testimonial-rating {
            color: var(--warning-color);
            font-size: 0.8rem;
        }

        .testimonial-body {
            margin-bottom: 15px;
        }

        .testimonial-footer {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #aaa;
        }

        .testimonial-verified {
            color: var(--success-color);
        }

        /* Estilos para acordeón de FAQ */
        .accordion-item {
            background: var(--input-bg);
            border: 1px solid var(--primary-color);
            border-radius: 10px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .accordion-button {
            background: var(--secondary-color);
            color: var(--text-color);
            font-weight: 600;
            padding: 15px 20px;
            border: none;
            box-shadow: none;
        }

        .accordion-button:not(.collapsed) {
            background: var(--primary-color);
            color: #000;
        }

        .accordion-button:focus {
            box-shadow: none;
            border-color: var(--primary-color);
        }

        .accordion-button::after {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%2300ff99'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
        }

        .accordion-body {
            background: var(--input-bg);
            color: var(--text-color);
            padding: 15px 20px;
            border-top: 1px solid var(--primary-color);
        }

        /* Animaciones adicionales */
        @keyframes pulse-glow {
            0% { opacity: 0.3; }
            50% { opacity: 0.7; }
            100% { opacity: 0.3; }
        }

        @keyframes typing {
            0% { width: 0; }
            50% { width: 100%; }
            100% { width: 0; }
        }

        /* أنماط عداد الزوار */
        .visitor-count-updated {
            animation: pulse 1s ease-in-out;
        }

        /* أنماط إشعارات الزوار الجدد */
        .visitor-notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--primary-color);
            border-radius: 8px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 9999;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 153, 0.3);
        }

        .visitor-notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .visitor-notification-icon {
            width: 30px;
            height: 30px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
        }

        .visitor-notification-content {
            color: #fff;
        }

        .visitor-notification-content p {
            margin: 0;
            font-size: 0.9rem;
        }

        /* Estilos para el terminal de encriptación */
        .terminal-window {
            background: var(--terminal-bg);
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            color: var(--terminal-green);
            margin-top: 20px;
            border: 1px solid var(--primary-color);
            position: relative;
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--primary-color);
            padding-bottom: 5px;
        }

        .terminal-title {
            font-weight: bold;
        }

        .terminal-controls {
            display: flex;
            gap: 5px;
        }

        .terminal-control-btn {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
            border: none;
            padding: 0;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .terminal-control-btn:hover {
            transform: scale(1.2);
        }

        .terminal-close {
            background: var(--danger-color);
        }

        .terminal-minimize {
            background: var(--warning-color);
        }

        .terminal-maximize {
            background: var(--success-color);
        }

        /* تم حذف هذا الكود المكرر */

        .btn-close-chat:hover {
            transform: scale(1.2);
        }

        .terminal-content {
            height: 150px;
            overflow-y: auto;
            font-size: 0.8rem;
            line-height: 1.4;
        }

        .terminal-line {
            margin-bottom: 5px;
            animation: fadeIn 0.5s;
        }

        .terminal-prompt {
            color: var(--primary-color);
        }

        .terminal-command {
            color: var(--text-color);
        }

        .terminal-response {
            color: var(--terminal-green);
        }

        .terminal-error {
            color: var(--danger-color);
        }

        .terminal-success {
            color: var(--success-color);
        }

        .terminal-input {
            display: flex;
            margin-top: 10px;
        }

        .terminal-input-prompt {
            color: var(--primary-color);
            margin-right: 5px;
        }

        .terminal-input-field {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            flex-grow: 1;
            outline: none;
        }

        /* Estilos para el chat y terminal ya están definidos arriba */
    </style>
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page">
        <div id="particles-js"></div>
        <div class="landing-card">
            <h1>مرحبًا بك في Green Hat Platform</h1>
            <p>المنصة الأكثر أمانًا وموثوقية مع سرعة فائقة وحماية متقدمة</p>
            <div class="security-indicators mb-4">
                <div class="security-indicator">
                    <i class="fas fa-shield-alt"></i> تشفير متقدم
                </div>
                <div class="security-indicator">
                    <i class="fas fa-user-secret"></i> خصوصية تامة
                </div>
                <div class="security-indicator">
                    <i class="fas fa-bolt"></i> سرعة فائقة
                </div>
            </div>
            <div class="encryption-display mb-4">
                <div class="encryption-line">
                    <span class="encryption-label">حالة الاتصال:</span>
                    <span class="encryption-value secure">آمن <i class="fas fa-lock"></i></span>
                </div>
                <div class="encryption-line">
                    <span class="encryption-label">بروتوكول:</span>
                    <span class="encryption-value">HTTPS + TLS 1.3</span>
                </div>
                <div class="encryption-line">
                    <span class="encryption-label">التشفير:</span>
                    <span class="encryption-value">AES-256-GCM</span>
                </div>
            </div>
            <button class="btn btn-custom" id="login-btn">الدخول الآن</button>

        </div>
    </div>

    <!-- Main Service Panel -->
    <div id="main-panel" style="display: none;">
        <div class="container">
            <div class="header">
                <div class="logo-container">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="hatGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00ff99;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#1e1e2f;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <path d="M20 70 Q50 30 80 70 L90 90 H10 L20 70 Z" fill="url(#hatGradient)" stroke="#00cc7a" stroke-width="2"/>
                        <circle cx="50" cy="50" r="10" fill="#1e1e2f"/>
                        <path d="M30 80 Q50 60 70 80" fill="none" stroke="#00ff99" stroke-width="3"/>
                    </svg>
                    <span class="logo-text">Green Hat Platform</span>
                </div>
                <div class="d-flex align-items-center gap-3">
                    <!-- أزرار للزوار فقط -->
                    <div class="guest-only">
                        <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                            <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                        </button>
                        <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                            <i class="fas fa-user-plus me-1"></i> تسجيل
                        </button>
                    </div>

                    <!-- أزرار للمستخدمين المسجلين -->
                    <div class="user-only" style="display: none;">
                        <div class="dropdown">
                            <button class="btn btn-sm btn-outline-custom dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user me-1"></i> <span class="user-name">اسم المستخدم</span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li><a class="dropdown-item" href="#" onclick="openPrivateChat()"><i class="fas fa-comments me-2"></i> الدردشة الخاصة</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item admin-only" href="#" onclick="openAdminPanel()" style="display: none;"><i class="fas fa-cog me-2"></i> لوحة المشرف</a></li>
                                <li><a class="dropdown-item" href="#" onclick="logoutUser()"><i class="fas fa-sign-out-alt me-2"></i> تسجيل الخروج</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="language-switcher">
                        <select id="language" onchange="changeLanguage(this.value)">
                            <option value="ar">العربية</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- بيانات العميل -->
            <div class="card">
                <div class="section-title">معلومات العميل</div>
                <div class="progress mb-4">
                    <progress class="progress-bar-custom" value="50" max="100" id="progress-bar">50%</progress>
                </div>
                <form id="service-form">
                    <div id="step1">
                        <div class="row g-4">
                            <div class="col-md-12 form-group">
                                <label class="form-label" for="service">اختر الخدمة</label>
                                <select class="form-select" id="service" onchange="updatePrice()">
                                    <option value="" selected>اختر الخدمة</option>
                                    <optgroup label="الخدمات الأساسية">
                                        <option value="5" data-price="5">زياده متابعين</option>
                                        <option value="5" data-price="5">شراء رقم دائم</option>
                                        <option value="15" data-price="15">سحب حساب</option>
                                    </optgroup>
                                    <optgroup label="الخدمات المتقدمة">
                                        <option value="10" data-price="10">اسكريبت قفل حساب واتس</option>
                                        <option value="10" data-price="10">تطبيق اختراق الهاتف</option>
                                        <option value="20" data-price="20">اسكريبت تلغيم</option>
                                        <option value="10" data-price="10">استرجاع حساب او رقم</option>
                                    </optgroup>
                                    <optgroup label="أدوات الفيشينج">
                                        <option value="10" data-price="10">Facebook fishing.py</option>
                                        <option value="10" data-price="10">Instagram fishing.py</option>
                                        <option value="10" data-price="10">WhatsApp fishing.py</option>
                                        <option value="10" data-price="10">Telegram fishing.py</option>
                                        <option value="10" data-price="10">Twitter fishing.py</option>
                                        <option value="10" data-price="10">Snapchat fishing.py</option>
                                        <option value="10" data-price="10">VK fishing.py</option>
                                        <option value="10" data-price="10">PUBG fishing.py</option>
                                        <option value="10" data-price="10">TikTok fishing.py</option>
                                    </optgroup>
                                    <optgroup label="ثغرات أمنية">
                                        <option value="10" data-price="10">CVE-2022-24086</option>
                                        <option value="15" data-price="15">CVE-2023-42793</option>
                                        <option value="15" data-price="15">CVE-2023-34362</option>
                                        <option value="20" data-price="20">CVE-2023-3519</option>
                                        <option value="20" data-price="20">CVE-2023-27350</option>
                                        <option value="20" data-price="20">CVE-2023-38831</option>
                                        <option value="20" data-price="20">CVE-2023-36802</option>
                                        <option value="20" data-price="20">CVE-2023-28252</option>
                                        <option value="20" data-price="20">CVE-2023-24489</option>
                                        <option value="20" data-price="20">CVE-2023-0669</option>
                                        <option value="20" data-price="20">CVE-2023-4966</option>
                                    </optgroup>
                                    <optgroup label="قواعد بيانات">
                                        <option value="12" data-price="12">تسريب بيانات X (2023)</option>
                                        <option value="20" data-price="20">تسريب بيانات Yahoo</option>
                                        <option value="10" data-price="10">Rockyou 2024</option>
                                    </optgroup>
                                    <optgroup label="أدوات متقدمة">
                                        <option value="10" data-price="10">Patator.py</option>
                                        <option value="10" data-price="10">Responder</option>
                                        <option value="10" data-price="10">Wasky.py</option>
                                        <option value="15" data-price="15">Hantsploit3.py</option>
                                        <option value="10" data-price="10">Slowdown.py</option>
                                        <option value="10" data-price="10">Togy.py (Low Orbit Ion Cannon)</option>
                                        <option value="15" data-price="15">Astaroth.py</option>
                                        <option value="10" data-price="10">Recon-T.py</option>
                                    </optgroup>
                                </select>
                                <span class="tooltip-text">اختر الخدمة التي تريدها</span>

                                <div id="service-description" class="service-description mt-3"></div>

                                <div class="members-only-notice guest-only mt-3">
                                    <div class="alert alert-warning">
                                        <i class="fas fa-lock me-2"></i> الخدمات متاحة للأعضاء المسجلين فقط
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                                <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                            </button>
                                            <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                                <i class="fas fa-user-plus me-1"></i> تسجيل
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 form-group">
                                <label class="form-label" for="price">سعر الخدمة (USD)</label>
                                <input type="text" class="form-control" id="price" readonly>
                                <span class="tooltip-text">سعر الخدمة المختارة بالدولار الأمريكي</span>
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="col-md-6 form-group">
                                <label class="form-label" for="fee">رسوم التحويل (USD)</label>
                                <input type="text" class="form-control" id="fee" readonly>
                                <span class="tooltip-text">رسوم التحويل (5% من سعر الخدمة)</span>
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="col-md-6 form-group">
                                <label class="form-label" for="payment-method">اختر وسيلة الدفع</label>
                                <select class="form-select" id="payment-method" onchange="updateAmount()">
                                    <option value="" selected>اختر وسيلة الدفع</option>
                                    <option value="Payeer - USD">Payeer - USD <i class="fas fa-wallet currency-icon"></i></option>
                                    <option value="Vodafone Cash">Vodafone Cash <i class="fas fa-mobile-alt currency-icon"></i></option>
                                    <option value="Binance - BNB">Binance - BNB <img src="https://assets.coingecko.com/coins/images/825/small/bnb-icon2_2x.png" class="currency-logo" alt="BNB Logo"></option>
                                    <option value="BYBIT - USDT">BYBIT - USDT <img src="https://assets.coingecko.com/coins/images/325/small/Tether.png" class="currency-logo" alt="USDT Logo"></option>
                                    <option value="Trust Wallet - USDT">Trust Wallet - USDT <img src="https://assets.coingecko.com/coins/images/325/small/Tether.png" class="currency-logo" alt="USDT Logo"></option>
                                    <option value="Orange Cash">Orange Cash <i class="fas fa-mobile-alt currency-icon"></i></option>
                                    <option value="Etisalat Cash">Etisalat Cash <i class="fas fa-mobile-alt currency-icon"></i></option>
                                    <option value="stc pay">stc pay <i class="fas fa-credit-card currency-icon"></i></option>
                                    <option value="Asia">Asia <i class="fas fa-globe currency-icon"></i></option>
                                    <option value="likeCard">likeCard <i class="fas fa-gift currency-icon"></i></option>
                                    <option value="Telegram Wallet - USDT TRC20">Telegram Wallet - USDT TRC20 <img src="https://assets.coingecko.com/coins/images/325/small/Tether.png" class="currency-logo" alt="USDT Logo"></option>
                                </select>
                                <span class="tooltip-text">اختر طريقة الدفع المفضلة لإتمام العملية</span>
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="col-md-6 form-group">
                                <label class="form-label" for="amount">المبلغ الإجمالي (USD)</label>
                                <input type="text" class="form-control" id="amount" readonly>
                                <span class="tooltip-text">إجمالي المبلغ شامل رسوم التحويل</span>
                                <i class="fas fa-money-bill"></i>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="button" class="btn btn-custom user-only" onclick="showPaymentDetails()" style="display: none;">التالي</button>
                            <div class="guest-only">
                                <div class="alert alert-warning">
                                    <i class="fas fa-lock me-2"></i> يجب تسجيل الدخول لإتمام عملية الشراء
                                    <div class="mt-2">
                                        <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                            <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                        </button>
                                        <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                            <i class="fas fa-user-plus me-1"></i> تسجيل
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="payment-details">
                        <div class="alert alert-info text-center">
                            قد تستغرق عملية تأكيد الطلب من 5 إلى 20 دقيقة، ولكن في الغالب تستغرق 10 دقائق فقط.
                        </div>
                        <div class="row g-4">
                            <div class="col-md-6 form-group">
                                <label class="form-label" for="account-number">رقم الحساب للدفع</label>
                                <input type="text" class="form-control" id="account-number" readonly>
                                <span class="tooltip-text">رقم الحساب أو المحفظة لتحويل المبلغ</span>
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="col-md-6 form-group">
                                <label class="form-label" for="screenshot">رفع إثبات الدفع (سكرين شوت)</label>
                                <input type="file" class="form-control" id="screenshot" accept="image/*" required>
                                <span class="tooltip-text">ارفع صورة إثبات الدفع لتأكيد العملية</span>
                                <i class="fas fa-upload"></i>
                            </div>
                            <div class="col-md-12 form-group">
                                <label class="form-label" for="download-link">رابط تحميل الخدمة</label>
                                <input type="text" class="form-control blurred-link" id="download-link" readonly value="" oncopy="return !this.classList.contains('blurred-link');">
                                <span class="tooltip-text">رابط تحميل الخدمة سيكون متاحًا بعد تأكيد الدفع</span>
                                <i class="fas fa-download"></i>
                            </div>
                            <div class="col-md-12 form-group">
                                <label class="form-label" for="telegram-account">حساب تيليجرام للتواصل</label>
                                <input type="text" class="form-control" id="telegram-account" placeholder="@username" required>
                                <span class="tooltip-text">أدخل حسابك على تيليجرام (مثل @username) للتواصل مع فريق الدعم</span>
                                <i class="fab fa-telegram-plane"></i>
                            </div>
                            <div class="col-md-12 form-group">
                                <label class="form-label" for="order-status">حالة الطلب</label>
                                <select class="form-select" id="order-status" disabled>
                                    <option value="pending">قيد الانتظار</option>
                                    <option value="processing">جاري المعالجة</option>
                                    <option value="completed">مكتمل</option>
                                    <option value="failed">فشل</option>
                                </select>
                                <span class="tooltip-text">الحالة الحالية لطلبك</span>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-custom" id="confirm-payment">تأكيد الدفع</button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- سجل التحويلات -->
            <div class="card">
                <div class="section-title">سجل التحويلات الأخيرة</div>
                <div class="table-responsive">
                    <table class="table table-dark table-striped">
                        <thead>
                            <tr>
                                <th>العميل</th>
                                <th>الخدمة</th>
                                <th>المبلغ</th>
                                <th>طريقة الدفع</th>
                                <th>رقم العملية</th>
                                <th>التاريخ</th>
                            </tr>
                        </thead>
                        <tbody id="transaction-table">
                            <tr>
                                <td>ياسر عبدالله</td>
                                <td>Facebook fishing.py</td>
                                <td>$10</td>
                                <td>Payeer - USD <i class="fas fa-wallet currency-icon"></i></td>
                                <td>123456781</td>
                                <td>2025-04-16</td>
                            </tr>
                            <tr>
                                <td>أحمد جمال</td>
                                <td>زياده متابعين</td>
                                <td>$12</td>
                                <td>Vodafone Cash <i class="fas fa-mobile-alt currency-icon"></i></td>
                                <td>9876543210</td>
                                <td>2025-04-10</td>
                            </tr>
                            <tr>
                                <td>منة سامي</td>
                                <td>شراء رقم دائم</td>
                                <td>$5</td>
                                <td>Binance - BNB <img src="https://assets.coingecko.com/coins/images/825/small/bnb-icon2_2x.png" class="currency-logo" alt="BNB Logo"></td>
                                <td>764832165</td>
                                <td>2025-04-12</td>
                            </tr>
                            <tr>
                                <td>خالد محمد</td>
                                <td>تطبيق اختراق الهاتف</td>
                                <td>$10</td>
                                <td>Payeer - USD <i class="fas fa-wallet currency-icon"></i></td>
                                <td>1234567890</td>
                                <td>2025-04-13</td>
                            </tr>
                            <tr>
                                <td>Sara Ali</td>
                                <td>شراء رقم دائم</td>
                                <td>$5</td>
                                <td>Trust Wallet - USDT <img src="https://assets.coingecko.com/coins/images/325/small/Tether.png" class="currency-logo" alt="USDT Logo"></td>
                                <td>4567891234</td>
                                <td>2025-04-14</td>
                            </tr>
                            <tr>
                                <td>Youssef Hassan</td>
                                <td>Facebook fishing.py</td>
                                <td>$10</td>
                                <td>stc pay <i class="fas fa-credit-card currency-icon"></i></td>
                                <td>9871236540</td>
                                <td>2025-04-14</td>
                            </tr>
                            <tr>
                                <td>Laila Ahmed</td>
                                <td>تطبيق اختراق الهاتف</td>
                                <td>$10</td>
                                <td>Orange Cash <i class="fas fa-mobile-alt currency-icon"></i></td>
                                <td>3216549870</td>
                                <td>2025-04-15</td>
                            </tr>
                            <tr>
                                <td>Mahmoud Saleh</td>
                                <td>سحب حساب</td>
                                <td>$15</td>
                                <td>likeCard <i class="fas fa-gift currency-icon"></i></td>
                                <td>6543217890</td>
                                <td>2025-04-15</td>
                            </tr>
                            <tr>
                                <td>momo so</td>
                                <td>whatsapp fishing.py</td>
                                <td>$10</td>
                                <td>Payeer - USD <i class="fas fa-wallet currency-icon"></i></td>
                                <td>123456782</td>
                                <td>2025-04-16</td>
                            </tr>
                            <tr>
                                <td>kha lody</td>
                                <td>تطبيق اختراق الهاتف</td>
                                <td>$10</td>
                                <td>BYBIT - USDT <img src="https://assets.coingecko.com/coins/images/325/small/Tether.png" class="currency-logo" alt="USDT Logo"></td>
                                <td>123456783</td>
                                <td>2025-04-16</td>
                            </tr>
                            <tr>
                                <td>Ali Omar</td>
                                <td>استرجاع حساب او رقم</td>
                                <td>$10</td>
                                <td>Telegram Wallet - USDT TRC20 <img src="https://assets.coingecko.com/coins/images/325/small/Tether.png" class="currency-logo" alt="USDT Logo"></td>
                                <td>123456784</td>
                                <td>2025-04-17</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- الخدمات الأكثر طلبًا -->
            <div class="card">
                <div class="section-title">الخدمات الأكثر طلبًا</div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">تطبيق اختراق الهاتف: 150 طلبًا</li>
                    <li class="list-group-item">شراء رقم دائم: 120 طلبًا</li>
                    <li class="list-group-item">Facebook fishing.py: 90 طلبًا</li>
                </ul>
            </div>

            <!-- شهادات الأمان -->
            <div class="card">
                <div class="section-title">شهادات الأمان والموثوقية</div>
                <div class="row g-3 text-center">
                    <div class="col-md-4">
                        <div class="security-badge">
                            <i class="fas fa-shield-alt fa-3x mb-2" style="color: var(--success-color);"></i>
                            <h5>حماية SSL مشفرة</h5>
                            <div class="security-status">
                                <span class="badge bg-success"><i class="fas fa-check-circle"></i> نشط</span>
                            </div>
                            <div class="encryption-animation">
                                <span class="encryption-text">تشفير 256-بت</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="security-badge">
                            <i class="fas fa-user-shield fa-3x mb-2" style="color: var(--info-color);"></i>
                            <h5>حماية الخصوصية</h5>
                            <div class="security-status">
                                <span class="badge bg-success"><i class="fas fa-check-circle"></i> مفعّل</span>
                            </div>
                            <div class="encryption-animation">
                                <span class="encryption-text">عدم تتبع البيانات</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="security-badge">
                            <i class="fas fa-fingerprint fa-3x mb-2" style="color: var(--primary-color);"></i>
                            <h5>مصادقة آمنة</h5>
                            <div class="security-status">
                                <span class="badge bg-success"><i class="fas fa-check-circle"></i> مؤمّن</span>
                            </div>
                            <div class="encryption-animation">
                                <span class="encryption-text">تشفير متعدد الطبقات</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <div class="security-verification">
                        <span class="verification-text">آخر فحص أمني: <span id="last-security-check">اليوم 08:45</span></span>
                        <div class="verification-status">
                            <span class="status-dot active"></span>
                            <span class="status-text">جميع الأنظمة تعمل</span>
                        </div>
                    </div>
                    <button class="btn btn-custom mt-3" onclick="showEncryptionTerminal()">
                        <i class="fas fa-terminal me-2"></i> فحص نظام التشفير
                    </button>
                </div>
            </div>

            <!-- آراء العملاء -->
            <div class="card">
                <div class="section-title">آراء العملاء</div>
                <div class="testimonials-container">
                    <!-- آراء باللغة العربية -->
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>أحمد س.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>خدمة ممتازة وسريعة. تم تسليم المنتج خلال دقائق من الدفع. أنصح بالتعامل معهم.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">15 أبريل 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> عميل موثق</span>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>محمد ر.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>منصة موثوقة وآمنة. استخدمت خدمة استرجاع الحساب وكانت النتائج ممتازة. سأتعامل معهم مرة أخرى.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">10 أبريل 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> عميل موثق</span>
                        </div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>سارة ع.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>الخدمة جيدة ولكن كان هناك بعض التأخير في الاستجابة. أتمنى تحسين وقت الرد في المستقبل.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">5 أبريل 2025</span>
                            <span class="testimonial-date">عميل</span>
                        </div>
                    </div>

                    <!-- آراء باللغة الإنجليزية -->
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>John D.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>Exceptional service with top-notch security. The file encryption tool is incredibly powerful and easy to use. Highly recommended for anyone concerned about privacy.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">April 12, 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> Verified Client</span>
                        </div>
                    </div>
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>Sarah M.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>I've been using this platform for vulnerability scanning for my websites. The detailed reports helped me identify and fix critical security issues. The support team is responsive and knowledgeable.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">April 8, 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> Verified Client</span>
                        </div>
                    </div>
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>Michael T.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>The cryptocurrency payment system works flawlessly. I appreciate the privacy and security measures in place. The 3D interface is a nice touch that makes navigation intuitive and engaging.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">April 5, 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> Verified Client</span>
                        </div>
                    </div>
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>Robert K.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>As a cybersecurity professional, I'm impressed with the quality of tools offered here. The vulnerability scanner provided detailed reports that helped me secure my client's infrastructure. Excellent service!</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">April 2, 2025</span>
                            <span class="testimonial-date">Client</span>
                        </div>
                    </div>
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>Emily W.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>I needed to recover my hacked social media account and Green Hat Platform delivered beyond my expectations. The support team was responsive and professional. They guided me through the entire process and resolved my issue within hours.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">March 28, 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> Verified Client</span>
                        </div>
                    </div>
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>David L.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>The file encryption service is top-notch. I use it regularly to secure sensitive documents before sharing them with clients. The encryption is robust and the interface is intuitive. Highly recommended for professionals who value privacy.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">March 25, 2025</span>
                            <span class="testimonial-verified"><i class="fas fa-check-circle"></i> Verified Client</span>
                        </div>
                    </div>
                    <div class="testimonial english-testimonial">
                        <div class="testimonial-header">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="testimonial-info">
                                <h5>Jessica H.</h5>
                                <div class="testimonial-rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-body">
                            <p>I've been using Green Hat Platform for ethical hacking challenges to improve my cybersecurity skills. The challenges are well-designed and progressively difficult. The community is supportive and the rewards system keeps me motivated.</p>
                        </div>
                        <div class="testimonial-footer">
                            <span class="testimonial-date">March 20, 2025</span>
                            <span class="testimonial-date">Client</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- قسم التعليقات -->
            <div class="section">
                <div class="section-title">التعليقات</div>
                <div class="comments-section">
                    <div id="comments-container">
                        <!-- سيتم ملؤها بواسطة JavaScript -->
                    </div>

                    <div class="card mt-4">
                        <div class="card-body">
                            <h5 class="card-title">إضافة تعليق جديد</h5>
                            <form id="comment-form" class="user-only" style="display: none;">
                                <div class="mb-3">
                                    <label for="comment-content" class="form-label">التعليق</label>
                                    <textarea class="form-control" id="comment-content" rows="3" required></textarea>
                                </div>
                                <div class="alert alert-info">
                                    <i class="fas fa-info-circle me-2"></i> سيتم مراجعة التعليق من قبل المشرف قبل نشره.
                                </div>
                                <button type="button" class="btn btn-custom" onclick="addNewComment()">إرسال التعليق</button>
                            </form>
                            <div class="guest-only">
                                <div class="alert alert-warning">
                                    <i class="fas fa-exclamation-circle me-2"></i> يجب تسجيل الدخول لإضافة تعليق.
                                    <div class="mt-2">
                                        <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                            <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                        </button>
                                        <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                            <i class="fas fa-user-plus me-1"></i> تسجيل
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- الميزات الجديدة -->
            <div class="card">
                <div class="section-title">الميزات الجديدة</div>
                <div class="row g-3">
                    <!-- تشفير الملفات -->
                    <div class="col-md-6">
                        <div class="feature-card" id="file-encryption-section">
                            <div class="feature-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <div class="feature-content">
                                <h4>تشفير الملفات</h4>
                                <p>قم بتشفير ملفاتك الهامة باستخدام خوارزميات تشفير متقدمة مثل AES-256 و RSA.</p>
                                <button class="btn btn-sm btn-custom user-only" data-bs-toggle="modal" data-bs-target="#file-encryption-modal" style="display: none;">
                                    <i class="fas fa-shield-alt me-1"></i> تشفير ملف
                                </button>
                                <div class="guest-only">
                                    <div class="alert alert-warning mt-2">
                                        <i class="fas fa-lock me-2"></i> يجب تسجيل الدخول لاستخدام هذه الميزة
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                                <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                            </button>
                                            <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                                <i class="fas fa-user-plus me-1"></i> تسجيل
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- تحليل الثغرات -->
                    <div class="col-md-6">
                        <div class="feature-card" id="vulnerability-scanner-section">
                            <div class="feature-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="feature-content">
                                <h4>تحليل الثغرات</h4>
                                <p>افحص مواقع الويب والتطبيقات لاكتشاف الثغرات الأمنية وتحديد نقاط الضعف.</p>
                                <button class="btn btn-sm btn-custom user-only" onclick="document.getElementById('vulnerability-scanner-modal').classList.add('show')" style="display: none;">
                                    <i class="fas fa-bug me-1"></i> فحص الثغرات
                                </button>
                                <div class="guest-only">
                                    <div class="alert alert-warning mt-2">
                                        <i class="fas fa-lock me-2"></i> يجب تسجيل الدخول لاستخدام هذه الميزة
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                                <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                            </button>
                                            <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                                <i class="fas fa-user-plus me-1"></i> تسجيل
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- المكافآت والتحديات -->
                    <div class="col-md-6">
                        <div class="feature-card" id="rewards-challenges-section">
                            <div class="feature-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="feature-content">
                                <h4>المكافآت والتحديات</h4>
                                <p>شارك في تحديات القرصنة الأخلاقية واكتشف الثغرات للحصول على مكافآت قيمة.</p>
                                <button class="btn btn-sm btn-custom user-only" onclick="document.getElementById('rewards-challenges-modal').classList.add('show')" style="display: none;">
                                    <i class="fas fa-award me-1"></i> عرض التحديات
                                </button>
                                <div class="guest-only">
                                    <div class="alert alert-warning mt-2">
                                        <i class="fas fa-lock me-2"></i> يجب تسجيل الدخول لاستخدام هذه الميزة
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                                <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                            </button>
                                            <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                                <i class="fas fa-user-plus me-1"></i> تسجيل
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- الدفع بالعملات المشفرة -->
                    <div class="col-md-6">
                        <div class="feature-card" id="crypto-payment-section">
                            <div class="feature-icon">
                                <i class="fas fa-coins"></i>
                            </div>
                            <div class="feature-content">
                                <h4>الدفع بالعملات المشفرة</h4>
                                <p>ادفع بأمان باستخدام العملات المشفرة مثل Bitcoin و Ethereum و Monero.</p>
                                <button class="btn btn-sm btn-custom user-only" id="pay-with-crypto-btn" style="display: none;">
                                    <i class="fab fa-bitcoin me-1"></i> الدفع بالعملات المشفرة
                                </button>
                                <div class="guest-only">
                                    <div class="alert alert-warning mt-2">
                                        <i class="fas fa-lock me-2"></i> يجب تسجيل الدخول لاستخدام هذه الميزة
                                        <div class="mt-2">
                                            <button class="btn btn-sm btn-outline-custom me-2" data-bs-toggle="modal" data-bs-target="#login-modal">
                                                <i class="fas fa-sign-in-alt me-1"></i> تسجيل الدخول
                                            </button>
                                            <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#register-modal">
                                                <i class="fas fa-user-plus me-1"></i> تسجيل
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- الواجهة ثلاثية الأبعاد -->
            <div class="card">
                <div class="section-title">الواجهة ثلاثية الأبعاد</div>
                <div class="interface-3d-container">
                    <div id="3d-interface-container"></div>
                    <div id="service-name" class="service-name"></div>
                    <div class="interface-3d-controls">
                        <button class="btn btn-sm btn-custom" onclick="interface3D.resetCamera()">
                            <i class="fas fa-sync-alt"></i> إعادة ضبط الكاميرا
                        </button>
                        <button class="btn btn-sm btn-outline-custom" onclick="interface3D.toggleAutoRotate()">
                            <i class="fas fa-redo-alt"></i> تدوير تلقائي
                        </button>
                    </div>
                </div>
            </div>

            <!-- الأسئلة الشائعة -->
            <div class="card">
                <div class="section-title">الأسئلة الشائعة</div>
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faqOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                كيف يمكنني التأكد من أمان المنصة؟
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="faqOne" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                منصتنا مؤمنة بتقنيات تشفير متقدمة وشهادات SSL. نحن نستخدم بروتوكولات أمان متعددة الطبقات لحماية بياناتك وضمان سرية المعاملات. كما أننا لا نخزن أي معلومات حساسة على خوادمنا.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faqTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                ما هي مدة تسليم الخدمات بعد الدفع؟
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="faqTwo" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                يتم تسليم معظم الخدمات خلال 5-20 دقيقة من تأكيد الدفع. في بعض الحالات النادرة، قد تستغرق العملية حتى ساعة واحدة. في حال تأخر التسليم عن ذلك، يرجى التواصل مع فريق الدعم عبر تيليجرام.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faqThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                هل يمكنني استرداد المبلغ بعد الشراء؟
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="faqThree" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                نعم، نحن نقدم ضمان استرداد المبلغ خلال 24 ساعة من الشراء في حال عدم عمل الخدمة كما هو موصوف. يرجى التواصل مع فريق الدعم مع تقديم إثبات المشكلة لاسترداد المبلغ.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faqFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                كيف يعمل نظام تشفير الملفات؟
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="faqFour" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                يستخدم نظام تشفير الملفات خوارزميات تشفير متقدمة مثل AES-256 و RSA لتشفير ملفاتك. يمكنك تحميل الملف، اختيار خوارزمية التشفير، وتعيين كلمة مرور آمنة. سيتم تشفير الملف وإتاحته للتنزيل مع ضمان الخصوصية التامة.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faqFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                ما هي العملات المشفرة المدعومة للدفع؟
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="faqFive" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                نحن ندعم مجموعة متنوعة من العملات المشفرة للدفع، بما في ذلك Bitcoin (BTC)، Ethereum (ETH)، Binance Coin (BNB)، Tether (USDT)، و Monero (XMR). يمكنك اختيار العملة المفضلة لديك عند الدفع.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visitor Counter -->
            <div class="visitor-counter">
                <h3>عدد الزوار</h3>
                <div class="visitor-count-container">
                    <span id="visitor-count">63,247</span>
                    <span class="visitor-count-badge">متصل الآن: <span id="online-visitors">142</span></span>
                </div>
                <div class="visitor-progress">
                    <div class="progress mb-2">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <small class="text-muted">نشاط الزوار خلال الساعة الماضية</small>
                </div>
                <div class="text-center mt-3">
                    <button class="btn btn-custom" onclick="toggleVisitorStats()">عرض الإحصائيات</button>
                </div>
            </div>
            <!-- Visitor Stats -->
            <div class="visitor-stats" id="visitor-stats">
                <canvas id="visitorChart" height="150"></canvas>
            </div>
        </div>

        <!-- نافذة تأكيد الطلب -->
        <div class="modal fade" id="confirmationModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">تأكيد الطلب</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <p>تم إرسال تأكيد الطلب إلى بريدك الإلكتروني.</p>
                        <p>الخدمة: <span id="modal-service"></span></p>
                        <p>المبلغ: <span id="modal-amount"></span></p>
                        <p>حساب تيليجرام: <span id="modal-telegram"></span></p>
                        <p>رابط التحميل: <a id="modal-download-link" href="#" target="_blank">تحميل الخدمة</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- الدردشة المباشرة مع الذكاء الاصطناعي -->
    <button class="chat-bubble" onclick="openChat()" aria-label="فتح الدردشة" tabindex="0" onkeydown="if(event.key==='Enter') openChat()">
        <i class="fas fa-robot"></i>
    </button>

    <script>
    // دالة فتح الدردشة
    function openChat() {
        try {
            const chatWindow = document.getElementById('chat-window');
            if (chatWindow) {
                chatWindow.style.display = 'block';
                console.log('تم فتح نافذة الدردشة بنجاح');

                // التركيز على حقل الإدخال
                const chatInput = document.getElementById('chat-input');
                if (chatInput) {
                    chatInput.focus();
                }
            } else {
                console.error('عنصر chat-window غير موجود');
            }
        } catch (error) {
            console.error('حدث خطأ أثناء محاولة فتح نافذة الدردشة:', error);
        }
    }
    </script>
    <div class="chat-window" id="chat-window">
        <div class="chat-header-container">
            <div class="chat-header-title">
                <i class="fas fa-robot"></i>
                <span>المساعد الذكي</span>
            </div>
            <div class="chat-header-controls">
                <button class="btn-close-chat" aria-label="إغلاق الدردشة" onclick="closeChat()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="chat-body" id="chat-messages">
            <div class="chat-message-admin">
                <div class="chat-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="chat-content">
                    مرحباً بك في منصة القبعة الخضراء! أنا المساعد الذكي الخاص بك.
                </div>
            </div>
            <div class="chat-message-admin">
                <div class="chat-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="chat-content">
                    كيف يمكنني مساعدتك اليوم؟ يمكنك سؤالي عن خدماتنا، طرق الدفع، أو أي استفسارات أخرى.
                </div>
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" class="chat-input-field" id="chat-input" placeholder="اكتب رسالتك..." aria-label="رسالة الدردشة">
            <button class="chat-send" onclick="sendMessage()" aria-label="إرسال">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
    // دالة إغلاق الدردشة
    function closeChat() {
        try {
            const chatWindow = document.getElementById('chat-window');
            if (chatWindow) {
                chatWindow.style.display = 'none';
                console.log('تم إغلاق نافذة الدردشة بنجاح');
            } else {
                console.error('عنصر chat-window غير موجود');
            }
        } catch (error) {
            console.error('حدث خطأ أثناء محاولة إغلاق نافذة الدردشة:', error);
        }
    }

    // دالة إرسال رسالة
    function sendMessage() {
        try {
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');

            if (!chatInput || !chatMessages) {
                console.error('عناصر الدردشة غير موجودة');
                return;
            }

            const message = chatInput.value.trim();
            if (!message) return;

            // إضافة رسالة المستخدم
            const userMessageHTML = `
                <div class="chat-message-user">
                    <div class="chat-content">
                        ${message}
                    </div>
                    <div class="chat-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            `;
            chatMessages.insertAdjacentHTML('beforeend', userMessageHTML);

            // مسح حقل الإدخال
            chatInput.value = '';

            // تمرير الدردشة إلى الأسفل
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // محاكاة رد المساعد الذكي (يمكن استبدالها بطلب API حقيقي)
            setTimeout(() => {
                // إظهار مؤشر الكتابة
                const typingHTML = `
                    <div class="chat-message-admin typing-indicator" id="typing-indicator">
                        <div class="chat-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="chat-content">
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                    </div>
                `;
                chatMessages.insertAdjacentHTML('beforeend', typingHTML);
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // بعد فترة، إزالة مؤشر الكتابة وإضافة الرد
                setTimeout(() => {
                    const typingIndicator = document.getElementById('typing-indicator');
                    if (typingIndicator) {
                        typingIndicator.remove();
                    }

                    // اختيار رد عشوائي
                    const responses = [
                        "يمكنني مساعدتك في اختيار الخدمة المناسبة لاحتياجاتك. هل تبحث عن خدمة محددة؟",
                        "نحن نقدم مجموعة متنوعة من الخدمات الأمنية. هل ترغب في معرفة المزيد عن خدمة معينة؟",
                        "يمكنك الدفع باستخدام العملات المشفرة أو وسائل الدفع الإلكترونية الأخرى. هل تحتاج إلى مزيد من المعلومات؟",
                        "جميع خدماتنا مضمونة ونقدم دعمًا فنيًا على مدار الساعة. هل لديك أسئلة أخرى؟",
                        "يمكنك التواصل معنا عبر تيليجرام للحصول على مساعدة مخصصة. هل ترغب في معرفة المزيد؟"
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];

                    const botResponseHTML = `
                        <div class="chat-message-admin">
                            <div class="chat-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="chat-content">
                                ${randomResponse}
                            </div>
                        </div>
                    `;
                    chatMessages.insertAdjacentHTML('beforeend', botResponseHTML);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1500);
            }, 500);
        } catch (error) {
            console.error('حدث خطأ أثناء إرسال الرسالة:', error);
        }
    }

    // إضافة مستمع حدث للضغط على Enter في حقل الإدخال
    document.addEventListener('DOMContentLoaded', function() {
        const chatInput = document.getElementById('chat-input');
        if (chatInput) {
            chatInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault();
                    sendMessage();
                }
            });
        }
    });
    </script>

    <!-- نافذة التشفير -->
    <div class="terminal-window" id="encryption-terminal" style="display: none;">
        <div class="terminal-header">
            <div class="terminal-title">نظام التشفير المتقدم</div>
            <div class="terminal-controls">
                <button class="terminal-control-btn terminal-close" onclick="closeTerminal()" aria-label="إغلاق"></button>
                <button class="terminal-control-btn terminal-minimize" aria-label="تصغير"></button>
                <button class="terminal-control-btn terminal-maximize" aria-label="تكبير"></button>
            </div>
        </div>
        <div class="terminal-content" id="terminal-content">
            <div class="terminal-line">
                <span class="terminal-prompt">system@greenhat:~$</span>
                <span class="terminal-command">initialize_encryption</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-response">جاري تهيئة نظام التشفير...</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-response">تم تحميل مفاتيح التشفير بنجاح.</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-success">تم تأمين الاتصال بنجاح. جميع البيانات مشفرة الآن.</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-prompt">system@greenhat:~$</span>
                <span class="terminal-command">check_security_status</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-response">جاري فحص حالة الأمان...</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-success">حالة الأمان: مستوى عالي</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-response">تشفير SSL: نشط</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-response">جدار الحماية: نشط</span>
            </div>
            <div class="terminal-line">
                <span class="terminal-response">حماية البيانات: نشطة</span>
            </div>
        </div>
        <div class="terminal-input">
            <span class="terminal-input-prompt">user@greenhat:~$</span>
            <input type="text" class="terminal-input-field" placeholder="أدخل أمر..." aria-label="أمر التشفير">
        </div>
    </div>

    <!-- نافذة تسجيل الدخول -->
    <div class="modal fade" id="login-modal" tabindex="-1" aria-labelledby="login-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="login-modal-label">تسجيل الدخول</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <form id="login-form">
                        <div class="mb-3">
                            <label for="login-username" class="form-label">اسم المستخدم أو البريد الإلكتروني</label>
                            <input type="text" class="form-control" id="login-username" required>
                        </div>
                        <div class="mb-3">
                            <label for="login-password" class="form-label">كلمة المرور</label>
                            <input type="password" class="form-control" id="login-password" required>
                        </div>
                        <div class="text-center">
                            <button type="button" class="btn btn-custom" onclick="loginUser()">تسجيل الدخول</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <p class="text-center w-100">ليس لديك حساب؟ <a href="#" data-bs-toggle="modal" data-bs-target="#register-modal" data-bs-dismiss="modal">تسجيل حساب جديد</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة التسجيل -->
    <div class="modal fade" id="register-modal" tabindex="-1" aria-labelledby="register-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="register-modal-label">تسجيل حساب جديد</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <form id="register-form">
                        <div class="mb-3">
                            <label for="register-fullname" class="form-label">الاسم الكامل</label>
                            <input type="text" class="form-control" id="register-fullname" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-username" class="form-label">اسم المستخدم</label>
                            <input type="text" class="form-control" id="register-username" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-email" class="form-label">البريد الإلكتروني</label>
                            <input type="email" class="form-control" id="register-email" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-telegram" class="form-label">حساب تيليجرام</label>
                            <input type="text" class="form-control" id="register-telegram" placeholder="@username" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-password" class="form-label">كلمة المرور</label>
                            <input type="password" class="form-control" id="register-password" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-confirm-password" class="form-label">تأكيد كلمة المرور</label>
                            <input type="password" class="form-control" id="register-confirm-password" required>
                        </div>
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i> سيتم مراجعة طلب التسجيل من قبل المشرف قبل تفعيل الحساب.
                        </div>
                        <div class="text-center">
                            <button type="button" class="btn btn-custom" onclick="registerUser()">تسجيل</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <p class="text-center w-100">لديك حساب بالفعل؟ <a href="#" data-bs-toggle="modal" data-bs-target="#login-modal" data-bs-dismiss="modal">تسجيل الدخول</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- لوحة المشرف -->
    <div class="modal fade" id="admin-panel-modal" tabindex="-1" aria-labelledby="admin-panel-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="admin-panel-modal-label">لوحة المشرف</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" id="admin-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="pending-registrations-tab" data-bs-toggle="tab" data-bs-target="#pending-registrations" type="button" role="tab" aria-controls="pending-registrations" aria-selected="true">طلبات التسجيل</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="pending-comments-tab" data-bs-toggle="tab" data-bs-target="#pending-comments" type="button" role="tab" aria-controls="pending-comments" aria-selected="false">التعليقات المعلقة</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="users-management-tab" data-bs-toggle="tab" data-bs-target="#users-management" type="button" role="tab" aria-controls="users-management" aria-selected="false">إدارة المستخدمين</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="site-stats-tab" data-bs-toggle="tab" data-bs-target="#site-stats" type="button" role="tab" aria-controls="site-stats" aria-selected="false">إحصائيات الموقع</button>
                        </li>
                    </ul>
                    <div class="tab-content mt-3" id="admin-tabs-content">
                        <!-- طلبات التسجيل المعلقة -->
                        <div class="tab-pane fade show active" id="pending-registrations" role="tabpanel" aria-labelledby="pending-registrations-tab">
                            <h5>طلبات التسجيل المعلقة</h5>
                            <div id="pending-registrations-list">
                                <!-- سيتم ملؤها بواسطة JavaScript -->
                            </div>
                        </div>

                        <!-- التعليقات المعلقة -->
                        <div class="tab-pane fade" id="pending-comments" role="tabpanel" aria-labelledby="pending-comments-tab">
                            <h5>التعليقات المعلقة</h5>
                            <div id="pending-comments-container">
                                <!-- سيتم ملؤها بواسطة JavaScript -->
                            </div>
                        </div>

                        <!-- إدارة المستخدمين -->
                        <div class="tab-pane fade" id="users-management" role="tabpanel" aria-labelledby="users-management-tab">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>إدارة المستخدمين</h5>
                                <div>
                                    <button class="btn btn-sm btn-outline-custom" id="refresh-users-list-btn">
                                        <i class="fas fa-sync-alt me-1"></i> تحديث
                                    </button>
                                </div>
                            </div>
                            <div class="alert alert-info mb-3">
                                <i class="fas fa-info-circle me-2"></i> يمكنك إدارة المستخدمين وتغيير صلاحياتهم من هنا. المشرف الرئيسي محمي من الحذف أو تخفيض الصلاحيات.
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>اسم المستخدم</th>
                                            <th>البريد الإلكتروني</th>
                                            <th>تاريخ التسجيل</th>
                                            <th>الصلاحية</th>
                                            <th>حالة التوثيق</th>
                                            <th>الإجراءات</th>
                                        </tr>
                                    </thead>
                                    <tbody id="users-list">
                                        <!-- سيتم ملؤها بواسطة JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- إحصائيات الموقع -->
                        <div class="tab-pane fade" id="site-stats" role="tabpanel" aria-labelledby="site-stats-tab">
                            <h5>إحصائيات الموقع</h5>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="card mb-3">
                                        <div class="card-body text-center">
                                            <h6 class="card-title">عدد المستخدمين</h6>
                                            <h2 id="users-count">0</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card mb-3">
                                        <div class="card-body text-center">
                                            <h6 class="card-title">عدد التعليقات</h6>
                                            <h2 id="comments-count">0</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card mb-3">
                                        <div class="card-body text-center">
                                            <h6 class="card-title">عدد الزوار</h6>
                                            <h2 id="visitors-count">0</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة الدردشة الخاصة -->
    <div class="modal fade" id="private-chat-modal" tabindex="-1" aria-labelledby="private-chat-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="private-chat-modal-label">الدردشة الخاصة</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <!-- قسم قائمة غرف الدردشة -->
                    <div id="chat-rooms-section">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5>غرف الدردشة المتاحة</h5>
                            <button class="btn btn-sm btn-custom" data-bs-toggle="modal" data-bs-target="#new-room-modal">
                                <i class="fas fa-plus me-1"></i> إنشاء غرفة جديدة
                            </button>
                        </div>
                        <div id="chat-rooms-list">
                            <!-- سيتم ملؤها بواسطة JavaScript -->
                        </div>
                    </div>

                    <!-- قسم غرفة الدردشة -->
                    <div id="chat-room-section" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <h5 id="chat-room-name">اسم الغرفة</h5>
                                <p id="chat-room-description" class="text-muted small mb-0">وصف الغرفة</p>
                            </div>
                            <button class="btn btn-sm btn-outline-custom" onclick="leaveChatRoom()">
                                <i class="fas fa-arrow-left me-1"></i> العودة للقائمة
                            </button>
                        </div>
                        <div class="chat-messages-container" id="chat-messages-container">
                            <!-- سيتم ملؤها بواسطة JavaScript -->
                        </div>
                        <div class="chat-input-container mt-3">
                            <div class="input-group">
                                <input type="text" class="form-control" id="chat-message-input" placeholder="اكتب رسالتك...">
                                <button class="btn btn-custom" type="button" onclick="sendChatMessage()">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة إنشاء غرفة دردشة جديدة -->
    <div class="modal fade" id="new-room-modal" tabindex="-1" aria-labelledby="new-room-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="new-room-modal-label">إنشاء غرفة دردشة جديدة</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <form id="new-room-form">
                        <div class="mb-3">
                            <label for="new-room-name" class="form-label">اسم الغرفة</label>
                            <input type="text" class="form-control" id="new-room-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="new-room-description" class="form-label">وصف الغرفة</label>
                            <textarea class="form-control" id="new-room-description" rows="3"></textarea>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="new-room-admin-only">
                            <label class="form-check-label" for="new-room-admin-only">غرفة للمشرفين فقط</label>
                        </div>
                        <div class="text-center">
                            <button type="button" class="btn btn-custom" onclick="createNewChatRoom()">إنشاء الغرفة</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">إشعار</strong>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body"></div>
        </div>
    </div>

    <!-- حاوية تأثيرات الهاكر -->
    <div id="hacker-effect-container"></div>

    <!-- نافذة تشفير الملفات -->
    <div class="modal fade" id="file-encryption-modal" tabindex="-1" aria-labelledby="file-encryption-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="file-encryption-modal-label">تشفير الملفات</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" id="encryption-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="encrypt-tab" data-bs-toggle="tab" data-bs-target="#encrypt-panel" type="button" role="tab" aria-controls="encrypt-panel" aria-selected="true">تشفير</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="decrypt-tab" data-bs-toggle="tab" data-bs-target="#decrypt-panel" type="button" role="tab" aria-controls="decrypt-panel" aria-selected="false">فك التشفير</button>
                        </li>
                    </ul>
                    <div class="tab-content mt-3" id="encryption-tabs-content">
                        <!-- لوحة التشفير -->
                        <div class="tab-pane fade show active" id="encrypt-panel" role="tabpanel" aria-labelledby="encrypt-tab">
                            <div class="encryption-panel" id="encryption-panel">
                                <h4>تشفير ملف</h4>
                                <div class="mb-3">
                                    <label for="file-to-encrypt" class="form-label">اختر الملف</label>
                                    <input type="file" class="form-control" id="file-to-encrypt">
                                    <div id="encrypt-file-info" class="form-text">لم يتم اختيار ملف</div>
                                </div>
                                <div class="mb-3">
                                    <label for="encryption-algorithm" class="form-label">خوارزمية التشفير</label>
                                    <select class="form-select" id="encryption-algorithm">
                                        <!-- سيتم ملؤها بواسطة JavaScript -->
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="encryption-password" class="form-label">كلمة المرور</label>
                                    <input type="password" class="form-control" id="encryption-password" placeholder="أدخل كلمة مرور قوية (8 أحرف على الأقل)">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">تقدم التشفير</label>
                                    <div class="encryption-progress">
                                        <div class="encryption-progress-bar" id="encryption-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div id="encryption-progress-text" class="form-text text-center">جاهز للتشفير</div>
                                </div>
                                <div class="text-center">
                                    <button class="btn btn-custom" id="start-encryption-btn">
                                        <i class="fas fa-lock me-2"></i> بدء التشفير
                                    </button>
                                </div>
                                <div id="encryption-result" class="mt-3"></div>
                            </div>
                        </div>

                        <!-- لوحة فك التشفير -->
                        <div class="tab-pane fade" id="decrypt-panel" role="tabpanel" aria-labelledby="decrypt-tab">
                            <div class="encryption-panel" id="decryption-panel">
                                <h4>فك تشفير ملف</h4>
                                <div class="mb-3">
                                    <label for="file-to-decrypt" class="form-label">اختر الملف المشفر</label>
                                    <input type="file" class="form-control" id="file-to-decrypt">
                                    <div id="decrypt-file-info" class="form-text">لم يتم اختيار ملف</div>
                                </div>
                                <div class="mb-3">
                                    <label for="decryption-password" class="form-label">كلمة المرور</label>
                                    <input type="password" class="form-control" id="decryption-password" placeholder="أدخل كلمة المرور المستخدمة للتشفير">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">تقدم فك التشفير</label>
                                    <div class="encryption-progress">
                                        <div class="encryption-progress-bar" id="decryption-progress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div id="decryption-progress-text" class="form-text text-center">جاهز لفك التشفير</div>
                                </div>
                                <div class="text-center">
                                    <button class="btn btn-custom" id="start-decryption-btn">
                                        <i class="fas fa-unlock me-2"></i> بدء فك التشفير
                                    </button>
                                </div>
                                <div id="decryption-result" class="mt-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة تحليل الثغرات -->
    <div class="modal fade" id="vulnerability-scanner-modal" tabindex="-1" aria-labelledby="vulnerability-scanner-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="vulnerability-scanner-modal-label">تحليل الثغرات الأمنية</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h5>إعدادات الفحص</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="target-url" class="form-label">عنوان URL المستهدف</label>
                                        <input type="url" class="form-control" id="target-url" placeholder="https://example.com">
                                    </div>
                                    <div class="mb-3">
                                        <label for="scan-depth" class="form-label">عمق الفحص</label>
                                        <select class="form-select" id="scan-depth">
                                            <option value="1">سطحي (صفحة واحدة)</option>
                                            <option value="2" selected>متوسط (حتى 10 صفحات)</option>
                                            <option value="3">عميق (الموقع بأكمله)</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="scan-speed" class="form-label">سرعة الفحص</label>
                                        <select class="form-select" id="scan-speed">
                                            <option value="slow">بطيء (أقل تأثير على الخادم)</option>
                                            <option value="normal" selected>عادي</option>
                                            <option value="fast">سريع (قد يؤثر على الخادم)</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">أنواع الفحص</label>
                                        <div id="scan-types">
                                            <!-- سيتم ملؤها بواسطة JavaScript -->
                                        </div>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-custom" id="start-scan-btn">
                                            <i class="fas fa-play me-2"></i> بدء الفحص
                                        </button>
                                        <button class="btn btn-danger" id="stop-scan-btn" disabled>
                                            <i class="fas fa-stop me-2"></i> إيقاف الفحص
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h5>تقدم الفحص</h5>
                                </div>
                                <div class="card-body">
                                    <div class="progress mb-3">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 0%" id="scan-progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div id="scan-progress-text" class="text-center mb-3">جاهز للفحص</div>
                                    <div class="card">
                                        <div class="card-header">
                                            <h6>سجل الفحص</h6>
                                        </div>
                                        <div class="card-body" style="max-height: 200px; overflow-y: auto;" id="scan-log">
                                            <!-- سيتم ملؤه بواسطة JavaScript -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header">
                                    <h5>نتائج الفحص</h5>
                                </div>
                                <div class="card-body" id="scan-results">
                                    <!-- سيتم ملؤه بواسطة JavaScript -->
                                    <div class="text-center text-muted">
                                        <i class="fas fa-search fa-3x mb-3"></i>
                                        <p>قم بإدخال عنوان URL واضغط على "بدء الفحص" لعرض النتائج</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة تفاصيل الثغرة -->
    <div class="modal fade" id="vulnerability-details-modal" tabindex="-1" aria-labelledby="vulnerability-details-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="vulnerability-details-modal-label">تفاصيل الثغرة</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <!-- سيتم ملؤه بواسطة JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة المكافآت والتحديات -->
    <div class="modal fade" id="rewards-challenges-modal" tabindex="-1" aria-labelledby="rewards-challenges-modal-label" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="rewards-challenges-modal-label">المكافآت والتحديات</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h5>النقاط</h5>
                                    <div class="display-4 text-primary" id="user-points">0</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h5>التحديات المكتملة</h5>
                                    <div class="display-4 text-success" id="completed-challenges">0</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h5>الإنجازات المفتوحة</h5>
                                    <div class="display-4 text-warning" id="unlocked-achievements">0</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body text-center">
                                    <h5>الثغرات المكتشفة</h5>
                                    <div class="display-4 text-danger" id="submitted-vulnerabilities">0</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <ul class="nav nav-tabs" id="rewards-challenges-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="challenges-tab" data-bs-toggle="tab" data-bs-target="#challenges-panel" type="button" role="tab" aria-controls="challenges-panel" aria-selected="true">التحديات</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="rewards-tab" data-bs-toggle="tab" data-bs-target="#rewards-panel" type="button" role="tab" aria-controls="rewards-panel" aria-selected="false">المكافآت</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="achievements-tab" data-bs-toggle="tab" data-bs-target="#achievements-panel" type="button" role="tab" aria-controls="achievements-panel" aria-selected="false">الإنجازات</button>
                        </li>
                    </ul>

                    <div class="tab-content mt-3" id="rewards-challenges-tabs-content">
                        <!-- لوحة التحديات -->
                        <div class="tab-pane fade show active" id="challenges-panel" role="tabpanel" aria-labelledby="challenges-tab">
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h4>تحديات القرصنة الأخلاقية</h4>
                                <button class="btn btn-custom" id="submit-vulnerability-btn">
                                    <i class="fas fa-bug me-2"></i> تقديم ثغرة
                                </button>
                            </div>
                            <div class="row" id="challenges-container">
                                <!-- سيتم ملؤها بواسطة JavaScript -->
                            </div>
                        </div>

                        <!-- لوحة المكافآت -->
                        <div class="tab-pane fade" id="rewards-panel" role="tabpanel" aria-labelledby="rewards-tab">
                            <h4>المكافآت المتاحة</h4>
                            <div class="row" id="rewards-container">
                                <!-- سيتم ملؤها بواسطة JavaScript -->
                            </div>
                        </div>

                        <!-- لوحة الإنجازات -->
                        <div class="tab-pane fade" id="achievements-panel" role="tabpanel" aria-labelledby="achievements-tab">
                            <h4>الإنجازات</h4>
                            <div class="row" id="achievements-container">
                                <!-- سيتم ملؤها بواسطة JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة تقديم ثغرة -->
    <div class="modal fade" id="submit-vulnerability-modal" tabindex="-1" aria-labelledby="submit-vulnerability-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="submit-vulnerability-modal-label">تقديم ثغرة أمنية</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <form id="submit-vulnerability-form">
                        <div class="mb-3">
                            <label for="vulnerability-type" class="form-label">نوع الثغرة</label>
                            <select class="form-select" id="vulnerability-type" required>
                                <option value="">اختر نوع الثغرة</option>
                                <option value="xss">Cross-Site Scripting (XSS)</option>
                                <option value="sqli">SQL Injection</option>
                                <option value="csrf">Cross-Site Request Forgery (CSRF)</option>
                                <option value="ssrf">Server-Side Request Forgery (SSRF)</option>
                                <option value="rce">Remote Code Execution</option>
                                <option value="lfi">Local File Inclusion</option>
                                <option value="open-redirect">Open Redirect</option>
                                <option value="broken-auth">Broken Authentication</option>
                                <option value="sensitive-data">Sensitive Data Exposure</option>
                                <option value="xxe">XML External Entities (XXE)</option>
                                <option value="other">أخرى</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="vulnerability-severity" class="form-label">مستوى الخطورة</label>
                            <select class="form-select" id="vulnerability-severity" required>
                                <option value="">اختر مستوى الخطورة</option>
                                <option value="critical">حرجة</option>
                                <option value="high">عالية</option>
                                <option value="medium">متوسطة</option>
                                <option value="low">منخفضة</option>
                                <option value="info">معلومات</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="vulnerability-description" class="form-label">وصف الثغرة</label>
                            <textarea class="form-control" id="vulnerability-description" rows="5" placeholder="اشرح الثغرة بالتفصيل وكيفية استغلالها" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="vulnerability-url" class="form-label">عنوان URL المتأثر</label>
                            <input type="url" class="form-control" id="vulnerability-url" placeholder="https://example.com/vulnerable-page">
                        </div>
                        <div class="mb-3">
                            <label for="vulnerability-attachment" class="form-label">مرفقات (اختياري)</label>
                            <input type="file" class="form-control" id="vulnerability-attachment">
                            <div class="form-text">يمكنك إرفاق لقطات شاشة أو ملفات POC</div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                    <button type="submit" class="btn btn-custom" form="submit-vulnerability-form">تقديم الثغرة</button>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة التحدي -->
    <div class="modal fade" id="challenge-modal" tabindex="-1" aria-labelledby="challenge-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="challenge-modal-label">تحدي القرصنة الأخلاقية</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <h4 id="challenge-modal-title"></h4>
                    <p id="challenge-modal-description"></p>
                    <div class="d-flex justify-content-between mb-3">
                        <span><i class="fas fa-coins me-1"></i> <span id="challenge-modal-points"></span> نقطة</span>
                        <span><i class="fas fa-star me-1"></i> الصعوبة: <span id="challenge-modal-difficulty"></span></span>
                        <span><i class="fas fa-tag me-1"></i> <span id="challenge-modal-category"></span></span>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> في التطبيق الحقيقي، ستتمكن من الوصول إلى بيئة التحدي وحل المشكلة. هنا يمكنك محاكاة إكمال التحدي.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
                    <button type="button" class="btn btn-success" id="complete-challenge-btn">إكمال التحدي</button>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة المكافأة -->
    <div class="modal fade" id="reward-modal" tabindex="-1" aria-labelledby="reward-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="reward-modal-label">المكافأة</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-4">
                        <img id="reward-modal-image" src="" alt="المكافأة" class="img-fluid" style="max-height: 200px;">
                    </div>
                    <h4 id="reward-modal-title"></h4>
                    <p id="reward-modal-description"></p>
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle me-2"></i> تم الحصول على المكافأة بنجاح! تم خصم <span id="reward-modal-points"></span> نقطة من رصيدك.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إغلاق</button>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة الدفع بالعملات المشفرة -->
    <div class="modal fade" id="crypto-payment-modal" tabindex="-1" aria-labelledby="crypto-payment-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="crypto-payment-modal-label">الدفع بالعملات المشفرة</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="إغلاق"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="crypto-currency" class="form-label">اختر العملة</label>
                        <select class="form-select" id="crypto-currency">
                            <!-- سيتم ملؤها بواسطة JavaScript -->
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="payment-amount" class="form-label">المبلغ (USD)</label>
                        <input type="number" class="form-control" id="payment-amount" value="50" min="1">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">المبلغ بالعملة المشفرة</label>
                        <div class="input-group">
                            <span class="input-group-text"><i id="crypto-currency-icon" class="fab fa-bitcoin"></i></span>
                            <input type="text" class="form-control" id="crypto-amount" readonly>
                        </div>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> قم بتحويل المبلغ المطلوب إلى العنوان أدناه. سيتم تأكيد الدفع تلقائيًا بعد عدة تأكيدات على الشبكة.
                    </div>
                    <div class="mb-3">
                        <label class="form-label">عنوان المحفظة</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="wallet-address" readonly>
                            <button class="btn btn-outline-secondary" type="button" onclick="navigator.clipboard.writeText(document.getElementById('wallet-address').textContent)">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div class="text-center mb-3">
                        <div id="qr-code"></div>
                        <p class="mt-2">امسح رمز QR للدفع</p>
                    </div>
                    <div class="text-center">
                        <p id="crypto-payment-status">في انتظار الدفع...</p>
                        <button class="btn btn-custom" id="confirm-crypto-payment">
                            <i class="fas fa-check-circle me-2"></i> تأكيد الدفع
                        </button>
                    </div>
                    <div id="crypto-payment-result" class="mt-3 text-center"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script src="ai-chat.js"></script>
    <script src="file-encryption.js"></script>
    <script src="vulnerability-scanner.js"></script>
    <script src="vulnerability-scanner-payment.js"></script>
    <script src="rewards-challenges.js"></script>
    <script src="crypto-payment.js"></script>
    <script src="3d-interface.js"></script>
    <script>
        // Función para mostrar el terminal de encriptación
        function showEncryptionTerminal() {
            document.getElementById('encryption-terminal').style.display = 'block';
            setTimeout(function() {
                addTerminalLine("user@greenhat:~$ check_connection_security", "terminal-command");
                setTimeout(function() {
                    addTerminalLine("جاري فحص أمان الاتصال...", "terminal-response");
                    setTimeout(function() {
                        addTerminalLine("تم تأكيد أمان الاتصال. جميع البيانات مشفرة بتقنية AES-256.", "terminal-success");
                    }, 1000);
                }, 500);
            }, 1000);
        }

        // Función para cerrar el terminal
        function closeTerminal() {
            document.getElementById('encryption-terminal').style.display = 'none';
        }

        // Función para añadir líneas al terminal
        function addTerminalLine(text, className) {
            const terminalContent = document.getElementById('terminal-content');
            const line = document.createElement('div');
            line.className = 'terminal-line';

            if (className === 'terminal-command') {
                const prompt = document.createElement('span');
                prompt.className = 'terminal-prompt';
                prompt.textContent = 'user@greenhat:~$ ';

                const command = document.createElement('span');
                command.className = className;
                command.textContent = text.replace('user@greenhat:~$ ', '');

                line.appendChild(prompt);
                line.appendChild(command);
            } else {
                const span = document.createElement('span');
                span.className = className;
                span.textContent = text;
                line.appendChild(span);
            }

            terminalContent.appendChild(line);
            terminalContent.scrollTop = terminalContent.scrollHeight;
        }

        // Función para abrir el chat
        function openChat() {
            try {
                const chatWindow = document.getElementById('chat-window');
                if (chatWindow) {
                    chatWindow.style.display = 'block';
                    console.log('تم فتح نافذة الدردشة بنجاح');
                } else {
                    console.error('عنصر chat-window غير موجود');
                }
            } catch (error) {
                console.error('حدث خطأ أثناء محاولة فتح نافذة الدردشة:', error);
            }
        }

        // Función para cerrar el chat
        function closeChat() {
            document.getElementById('chat-window').style.display = 'none';
        }

        // Función para enviar mensajes en el chat
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();

            if (message) {
                const chatMessages = document.getElementById('chat-messages');

                // Mensaje del usuario
                const userMessage = document.createElement('div');
                userMessage.className = 'chat-message-user';

                const userContent = document.createElement('div');
                userContent.className = 'chat-content';
                userContent.textContent = message;

                userMessage.appendChild(userContent);
                chatMessages.appendChild(userMessage);

                // Limpiar input
                input.value = '';

                // Simular respuesta automática después de un breve retraso
                setTimeout(function() {
                    // Mensaje de "escribiendo..."
                    const typingMessage = document.createElement('div');
                    typingMessage.className = 'chat-message-admin';
                    typingMessage.id = 'typing-message';

                    const typingAvatar = document.createElement('div');
                    typingAvatar.className = 'chat-avatar';

                    const typingIcon = document.createElement('i');
                    typingIcon.className = 'fas fa-user-shield';

                    const typingContent = document.createElement('div');
                    typingContent.className = 'chat-content';
                    typingContent.textContent = 'جاري الكتابة...';

                    typingAvatar.appendChild(typingIcon);
                    typingMessage.appendChild(typingAvatar);
                    typingMessage.appendChild(typingContent);

                    chatMessages.appendChild(typingMessage);
                    chatMessages.scrollTop = chatMessages.scrollHeight;

                    // Respuesta automática después de un breve retraso
                    setTimeout(function() {
                        // Eliminar mensaje de "escribiendo..."
                        chatMessages.removeChild(document.getElementById('typing-message'));

                        // Añadir respuesta automática
                        const adminMessage = document.createElement('div');
                        adminMessage.className = 'chat-message-admin';

                        const adminAvatar = document.createElement('div');
                        adminAvatar.className = 'chat-avatar';

                        const adminIcon = document.createElement('i');
                        adminIcon.className = 'fas fa-user-shield';

                        const adminContent = document.createElement('div');
                        adminContent.className = 'chat-content';

                        // Respuestas automáticas basadas en palabras clave
                        if (message.includes('سعر') || message.includes('تكلفة') || message.includes('ثمن')) {
                            adminContent.textContent = 'يمكنك الاطلاع على أسعار الخدمات من خلال القائمة المنسدلة في صفحة الطلب. الأسعار تبدأ من 5 دولار.';
                        } else if (message.includes('دفع') || message.includes('تحويل') || message.includes('payment')) {
                            adminContent.textContent = 'نحن نقبل العديد من وسائل الدفع بما في ذلك Payeer وVodafone Cash وBinance وغيرها. يمكنك اختيار وسيلة الدفع المناسبة لك من القائمة.';
                        } else if (message.includes('وقت') || message.includes('مدة') || message.includes('متى')) {
                            adminContent.textContent = 'يتم تسليم معظم الخدمات خلال 5-20 دقيقة من تأكيد الدفع. في بعض الحالات النادرة، قد تستغرق العملية حتى ساعة واحدة.';
                        } else if (message.includes('أمان') || message.includes('حماية') || message.includes('security')) {
                            adminContent.textContent = 'نحن نستخدم تقنيات تشفير متقدمة لحماية بياناتك وضمان سرية المعاملات. جميع الاتصالات مشفرة بتقنية SSL.';
                            // Mostrar terminal de encriptación
                            showEncryptionTerminal();
                        } else {
                            adminContent.textContent = 'شكرًا لتواصلك معنا. سيقوم فريق الدعم بالرد عليك في أقرب وقت ممكن. يمكنك أيضًا التواصل معنا عبر تيليجرام: @Crespii_bot';
                        }

                        adminAvatar.appendChild(adminIcon);
                        adminMessage.appendChild(adminAvatar);
                        adminMessage.appendChild(adminContent);

                        chatMessages.appendChild(adminMessage);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }, 1500);
                }, 500);

                // Desplazar hacia abajo para mostrar el mensaje más reciente
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        // Evento para enviar mensaje al presionar Enter
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }

            // Evento para el campo de terminal
            const terminalInput = document.querySelector('.terminal-input-field');
            if (terminalInput) {
                terminalInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const command = this.value.trim();
                        if (command) {
                            addTerminalLine(command, 'terminal-command');

                            // Respuestas automáticas basadas en comandos
                            if (command.includes('help') || command.includes('مساعدة')) {
                                addTerminalLine("الأوامر المتاحة:", "terminal-response");
                                addTerminalLine("check_security_status - فحص حالة الأمان", "terminal-response");
                                addTerminalLine("encrypt_connection - تشفير الاتصال", "terminal-response");
                                addTerminalLine("check_ssl - فحص شهادة SSL", "terminal-response");
                                addTerminalLine("exit - إغلاق النافذة", "terminal-response");
                            } else if (command.includes('check_security') || command.includes('فحص')) {
                                addTerminalLine("جاري فحص حالة الأمان...", "terminal-response");
                                setTimeout(function() {
                                    addTerminalLine("حالة الأمان: مستوى عالي", "terminal-success");
                                    addTerminalLine("تشفير SSL: نشط", "terminal-response");
                                    addTerminalLine("جدار الحماية: نشط", "terminal-response");
                                    addTerminalLine("حماية البيانات: نشطة", "terminal-response");
                                }, 1000);
                            } else if (command.includes('encrypt') || command.includes('تشفير')) {
                                addTerminalLine("جاري تشفير الاتصال...", "terminal-response");
                                setTimeout(function() {
                                    addTerminalLine("تم تشفير الاتصال بنجاح باستخدام خوارزمية AES-256.", "terminal-success");
                                }, 1000);
                            } else if (command.includes('ssl') || command.includes('SSL')) {
                                addTerminalLine("جاري فحص شهادة SSL...", "terminal-response");
                                setTimeout(function() {
                                    addTerminalLine("شهادة SSL: صالحة", "terminal-success");
                                    addTerminalLine("تاريخ الإصدار: 01/04/2025", "terminal-response");
                                    addTerminalLine("تاريخ الانتهاء: 01/04/2026", "terminal-response");
                                    addTerminalLine("مزود الشهادة: Let's Encrypt Authority X3", "terminal-response");
                                }, 1000);
                            } else if (command.includes('exit') || command.includes('خروج')) {
                                addTerminalLine("جاري إغلاق النافذة...", "terminal-response");
                                setTimeout(function() {
                                    closeTerminal();
                                }, 1000);
                            } else {
                                addTerminalLine("أمر غير معروف. اكتب 'help' للحصول على قائمة الأوامر المتاحة.", "terminal-error");
                            }

                            this.value = '';
                        }
                    }
                });
            }
        });

        // Translations for Arabic and English
        const translations = {
            ar: {
                title: "Green Hat Platform",
                clientInfo: "معلومات العميل",
                selectService: "اختر الخدمة",
                servicePrice: "سعر الخدمة (USD)",
                transferFee: "رسوم التحويل (USD)",
                selectPayment: "اختر وسيلة الدفع",
                totalAmount: "المبلغ الإجمالي (USD)",
                next: "التالي",
                paymentDetails: "قد تستغرق عملية تأكيد الطلب من 5 إلى 20 دقيقة، ولكن في الغالب تستغرق 10 دقائق فقط.",
                accountNumber: "رقم الحساب للدفع",
                uploadProof: "رفع إثبات الدفع (سكرين شوت)",
                telegramAccount: "حساب تيليجرام للتواصل",
                orderStatus: "حالة الطلب",
                confirmPayment: "تأكيد الدفع",
                transactions: "سجل التحويلات الأخيرة",
                popularServices: "الخدمات الأكثر طلبًا",
                error: "حدث خطأ!",
                errorMessage: "نأسف لحدوث هذا الخطأ. يرجى المحاولة مرة أخرى لاحقًا أو التواصل مع الدعم.",
                retry: "إعادة المحاولة",
                required: "يرجى اختيار الخدمة ووسيلة الدفع",
                uploadRequired: "يرجى رفع إثبات الدفع",
                invalidImage: "يرجى رفع صورة بصيغة PNG أو JPEG",
                invalidTelegram: "يرجى إدخال حساب تيليجرام صالح (مثل @username)",
                success: "تم تأكيد الدفع بنجاح! سيتم معالجة طلبك خلال 5-20 دقيقة.",
                telegramError: "فشل في إرسال البيانات إلى تيليجرام. يرجى المحاولة لاحقًا.",
                welcomeTitle: "مرحبًا بك في Green Hat Platform",
                welcomeText: "The most trusted platform with unparalleled security and lightning-fast speed.",
                join: "Join Now",
                tooltipService: "حدد الخدمة التي ترغب في طلبها من القائمة",
                tooltipPrice: "سعر الخدمة المختارة بالدولار الأمريكي",
                tooltipFee: "رسوم التحويل (5% من سعر الخدمة)",
                tooltipPayment: "اختر طريقة الدفع المفضلة لإتمام العملية",
                tooltipAmount: "إجمالي المبلغ شامل رسوم التحويل",
                tooltipAccount: "رقم الحساب أو المحفظة لتحويل المبلغ",
                tooltipProof: "ارفع صورة إثبات الدفع لتأكيد العملية",
                tooltipTelegram: "أدخل حسابك على تيليجرام (مثل @username) للتواصل مع فريق الدعم",
                tooltipStatus: "الحالة الحالية لطلبك",
                tooltipDownloadLink: "رابط تحميل الخدمة سيكون متاحًا بعد تأكيد الدفع",
                unexpectedError: "حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.",
                visitorCount: "عدد الزوار",
                showStats: "عرض الإحصائيات",
                visitorStats: "إحصائيات الزوار",
                confirmationTitle: "تأكيد الطلب",
                confirmationSent: "تم إرسال تأكيد الطلب إلى بريدك الإلكتروني.",
                confirmationService: "الخدمة",
                confirmationAmount: "المبلغ",
                confirmationTelegram: "حساب تيليجرام",
                confirmationDownload: "تحميل الخدمة",
                chatHeader: "الدعم المباشر",
                chatBody: "مرحبًا! كيف يمكننا مساعدتك؟",
                chatPlaceholder: "اكتب رسالتك...",
                notification: "إشعار"
            },
            en: {
                title: "Green Hat Platform",
                clientInfo: "Client Information",
                selectService: "Select Service",
                servicePrice: "Service Price (USD)",
                transferFee: "Transfer Fee (USD)",
                selectPayment: "Select Payment Method",
                totalAmount: "Total Amount (USD)",
                next: "Next",
                paymentDetails: "The order confirmation process may take 5 to 20 minutes, but it usually takes only 10 minutes.",
                accountNumber: "Account Number for Payment",
                uploadProof: "Upload Payment Proof (Screenshot)",
                telegramAccount: "Telegram Account for Communication",
                orderStatus: "Order Status",
                confirmPayment: "Confirm Payment",
                transactions: "Recent Transactions Log",
                popularServices: "Most Popular Services",
                error: "An Error Occurred!",
                errorMessage: "We apologize for this error. Please try again later or contact support.",
                retry: "Try Again",
                required: "Please select a service and payment method",
                uploadRequired: "Please upload payment proof",
                invalidImage: "Please upload an image in PNG or JPEG format",
                invalidTelegram: "Please enter a valid Telegram account (e.g., @username)",
                success: "Payment confirmed successfully! Your request will be processed within 5-20 minutes.",
                telegramError: "Failed to send data to Telegram. Please try again later.",
                welcomeTitle: "Welcome to Green Hat Platform",
                welcomeText: "The most trusted platform with unparalleled security and lightning-fast speed.",
                join: "Join Now",
                tooltipService: "Select the service you wish to request from the list",
                tooltipPrice: "Price of the selected service in US dollars",
                tooltipFee: "Transfer fee (5% of the service price)",
                tooltipPayment: "Choose your preferred payment method to complete the transaction",
                tooltipAmount: "Total amount including transfer fees",
                tooltipAccount: "Account or wallet number for transferring the amount",
                tooltipProof: "Upload a screenshot of the payment proof to confirm the transaction",
                tooltipTelegram: "Enter your Telegram account (e.g., @username) for communication with the support team",
                tooltipStatus: "Current status of your request",
                tooltipDownloadLink: "Download link for the service will be available after payment confirmation",
                unexpectedError: "An unexpected error occurred. Please try again.",
                visitorCount: "Visitor Count",
                showStats: "Show Statistics",
                visitorStats: "Visitor Statistics",
                confirmationTitle: "Order Confirmation",
                confirmationSent: "Order confirmation has been sent to your email.",
                confirmationService: "Service",
                confirmationAmount: "Amount",
                confirmationTelegram: "Telegram Account",
                confirmationDownload: "Download Service",
                chatHeader: "Live Support",
                chatBody: "Hello! How can we assist you?",
                chatPlaceholder: "Type your message...",
                notification: "Notification"
            }
        };

        // Service descriptions
        const serviceDescriptions = {
            "زياده متابعين": "خدمة لزيادة عدد المتابعين على منصات التواصل الاجتماعي.", // Placeholder
            "شراء رقم دائم": "توفير أرقام هواتف دائمة للاستخدام في التسجيل على المنصات.", // Placeholder
            "سحب حساب": "خدمة لاستعادة أو سحب حسابات على منصات مختلفة.", // Placeholder
            "اسكريبت قفل حساب واتس": "سكريبت لقفل حسابات واتساب بشكل مؤقت أو دائم.", // Placeholder
            "تطبيق اختراق الهاتف": "تطبيق يتيح اختراق الهواتف للتحكم الكامل في الجهاز والوصول.", // Placeholder
            "اسكريبت تلغيم": "سكريبت لإنشاء برمجيات خبيثة تُستخدم في الهجمات السيبرانية.", // Placeholder
            "استرجاع حساب او رقم": "خدمة لاستعادة حسابات أو أرقام تم فقدانها.", // Placeholder
            "Facebook fishing.py": "أداة بايثون تصيد لسحب حسابات فيسبوك.",
            "Twitter fishing.py": "أداة بايثون تصيد لسحب حسابات تويتر.",
            "Instagram fishing.py": "أداة بايثون تصيد لسحب حسابات إنستغرام.",
            "WhatsApp fishing.py": "أداة بايثون لسحب حسابات واتساب.",
            "Telegram fishing.py": "أداة بايثون تصيد لسحب حسابات تيليغرام.",
            "Snapchat fishing.py": "أداة بايثون تصيد لسحب حسابات سناب شات.",
            "VK fishing.py": "أداة بايثون تصيد لسحب حسابات VK.",
            "PUBG fishing.py": "أداة بايثون تصيد لسحب حسابات بابجي.",
            "TikTok fishing.py": "أداة بايثون تصيد لسحب حسابات تيك توك.",
            "CVE-2022-24086": "ثغرة تنفيذ كود عن بُعد في Adobe Commerce.",
            "CVE-2023-42793": "ثغرة تجاوز المصادقة في JetBrains TeamCity.",
            "CVE-2023-34362": "ثغرة في Progress MOVEit Transfer.",
            "CVE-2023-3519": "ثغرة تنفيذ كود عن بُعد في Citrix NetScaler ADC.",
            "CVE-2023-27350": "ثغرة في PaperCut MF/NG.",
            "CVE-2023-38831": "ثغرة في RARLAB WinRAR.",
            "CVE-2023-36802": "ثغرة في Microsoft Streaming Proxy.",
            "CVE-2023-28252": "ثغرة في Microsoft Windows CLFS.",
            "CVE-2023-24489": "ثغرة في Citrix ShareFile.",
            "CVE-2023-0669": "ثغرة في Fortra GoAnywhere MFT.",
            "CVE-2023-4966": "ثغرة في Citrix NetScaler ADC.",
            "تسريب بيانات X (2023)": "عنوان بريد إلكتروني وحسابات لـ 200 مليون مستخدم X.",
            "تسريب بيانات Yahoo": "بيانات وحسابات 3 مليار حساب.",
            "Rockyou 2024": "قائمة لكلمات المرور المسربة حديثًا.",
            "Patator.py": "أداة فحص بالقوة الغاشمة (Brute Force) بتصميم معياري لاختراق الحسابات. تدعم اختبار كلمات المرور عبر بروتوكولات مثل SSH، HTTP(S)، SMTP، RDP، وغيرها. الاستخدام: اختراق الحسابات أو الخدمات عبر محاولات تسجيل دخول متكررة.",
            "Responder": "أداة مفتوحة المصدر تُستخدم لتسميم الشبكات (LLMNR/NBT-NS Poisoning) وحصاد بيانات الاعتماد في هجمات الرجل في المنتصف (MITM). الاستخدام: سرقة بيانات تسجيل الدخول في الشبكات المحلية، مما قد يُستخدم كجزء من هجمات أوسع.",
            "Wasky.py": "أداة فحص مواقع الويب تُستخدم للهجمات بالقوة الغاشمة (Brute Force) ضد المسارات، الملفات، أو النماذج. الاستخدام: اكتشاف الملفات أو الأدلة المخفية على مواقع الويب، واختبار نقاط الضعف مثل حقن SQL أو اختراق النماذج.",
            "Hantsploit3.py": "مكتبة بايثون تُحاكي قدرات Metasploit، تتيح تنفيذ هجمات اختراق متقدمة عبر التحكم في وحدات msfrpc. الاستخدام: بناء أدوات اختراق مخصصة أو تنفيذ هجمات مثل استغلال الثغرات أو اختراق الأنظمة.",
            "Slowdown.py": "أداة مكتوبة بلغة بايثون تُستخدم لتنفيذ هجمات DDoS من نوع 'Low and Slow'، حيث تُبقي الاتصالات مفتوحة مع الخادم لاستنزاف موارده. الاستخدام: تعطيل خوادم الويب بموارد محدودة من خلال طلبات HTTP بطيئة.",
            "Togy.py (Low Orbit Ion Cannon)": "أداة هجوم DDoS يمكن دمجها مع سكربتات بايثون لتكثيف الهجمات، تُستخدم لإغراق الخوادم بطلبات UDP أو TCP. الاستخدام: تنفيذ هجمات DDoS بسيطة، غالبًا من قبل مهاجمين مبتدئين فعالة ولكن بسيطة بنسبة لمن تحت التدريب.",
            "Astaroth.py": "أداة قرصنة متطورة تُستخدم لتجاوز المصادقة الثنائية (2FA) وسرقة البيانات البنكية، قد تُدمج مع سكربتات بايثون لتوسيع قدراتها. الاستخدام: اختراق الحسابات المصرفية أو سرقة بيانات حساسة.",
            "Recon-T.py": "إطار عمل مكتوب بلغة بايثون لجمع المعلومات الاستخباراتية (OSINT) من مصادر متعددة. الاستخدام: جمع بيانات عن الأهداف (مواقع، أفراد، شركات) كخطوة تمهيدية للاختراق أو هجمات DDoS."
        };

        // Initialize Particles.js
        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: '#00ff99' },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: '#00ff99', opacity: 0.4, width: 1 },
                move: { enable: true, speed: 2, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
                modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
            },
            retina_detect: true
        });

        // Show main panel
        function showMainPanel() {
            try {
                const landingPage = document.getElementById('landing-page');
                const mainPanel = document.getElementById('main-panel');

                if (landingPage) {
                    landingPage.style.display = 'none';
                } else {
                    console.error('عنصر landing-page غير موجود');
                }

                if (mainPanel) {
                    mainPanel.style.display = 'block';
                } else {
                    console.error('عنصر main-panel غير موجود');
                }

                console.log('تم الانتقال إلى اللوحة الرئيسية بنجاح');
            } catch (error) {
                console.error('حدث خطأ أثناء محاولة عرض اللوحة الرئيسية:', error);
            }
        }

        // Calculate transfer fee (5% of service price)
        function calculateFee(price) {
            return price * 0.05;
        }

        // دالة لتحديث السعر عند اختيار الخدمة
        function updatePrice() {
            const serviceSelect = document.getElementById('service');
            const value = serviceSelect.value;
            const serviceOption = serviceSelect.options[serviceSelect.selectedIndex];
            const serviceName = serviceOption ? serviceOption.text.split(' - ')[0] : '';

            // تحديث وصف الخدمة
            const serviceDescription = document.getElementById('service-description');
            serviceDescription.classList.add('active');

            // إظهار وصف مختلف حسب الخدمة المختارة
            let description = '';
            if (serviceName.includes('متابعين')) {
                description = 'زيادة عدد المتابعين على منصات التواصل الاجتماعي بطريقة آمنة وسريعة.';
            } else if (serviceName.includes('رقم دائم')) {
                description = 'الحصول على رقم هاتف دائم يمكن استخدامه للتسجيل في المواقع والتطبيقات.';
            } else if (serviceName.includes('سحب حساب')) {
                description = 'استرجاع السيطرة على الحسابات المخترقة أو المفقودة.';
            } else if (serviceName.includes('اسكريبت قفل')) {
                description = 'أداة متقدمة لقفل حسابات واتساب المستهدفة بشكل مؤقت.';
            } else if (serviceName.includes('اختراق الهاتف')) {
                description = 'تطبيق متطور للوصول إلى بيانات الهاتف المستهدف عن بُعد.';
            } else if (serviceName.includes('تلغيم')) {
                description = 'أداة متقدمة لإنشاء ملفات مخصصة لأغراض الاختبار الأمني.';
            } else if (serviceName.includes('fishing')) {
                description = 'أدوات فيشينج متطورة لاختبار الوعي الأمني للمستخدمين على منصات مختلفة.';
            } else {
                description = 'خدمة متخصصة في مجال الأمن السيبراني والاختبار الأخلاقي.';
            }

            serviceDescription.innerHTML = `
                <div class="service-description-content">
                    <h5>${serviceName}</h5>
                    <p>${description}</p>
                    <div class="service-meta">
                        <span><i class="fas fa-clock"></i> وقت التسليم: 5-20 دقيقة</span>
                        <span><i class="fas fa-shield-alt"></i> ضمان استرداد المال</span>
                    </div>
                </div>
            `;

            // تحديث سعر الخدمة
            const priceInput = document.getElementById('price');
            const feeInput = document.getElementById('fee');

            // تحديث سعر الخدمة
            const price = parseFloat(value);
            priceInput.value = `$${price.toFixed(2)}`;

            // حساب رسوم التحويل (5% من سعر الخدمة)
            const fee = calculateFee(price);
            feeInput.value = `$${fee.toFixed(2)}`;

            // حساب المبلغ الإجمالي
            updateAmount();

            // إظهار إشعار للمستخدمين غير المسجلين
            const isLoggedIn = document.body.classList.contains('logged-in');
            if (!isLoggedIn) {
                document.querySelector('.members-only-notice').style.display = 'block';
            }
        }

        // Update service price, fee, and description
        function updatePrice() {
            try {
                const serviceSelect = document.getElementById('service');
                if (!serviceSelect) {
                    console.error('عنصر service غير موجود');
                    return;
                }

                const priceInput = document.getElementById('price');
                const feeInput = document.getElementById('fee');
                const amountInput = document.getElementById('amount');
                const descriptionDiv = document.getElementById('service-description');

                // الحصول على قيمة الخدمة المختارة
                const value = serviceSelect.value;
                const price = parseFloat(value);

                // الحصول على اسم الخدمة
                const serviceOption = serviceSelect.options[serviceSelect.selectedIndex];
                const serviceName = serviceOption ? serviceOption.text.split(' - ')[0] : '';

                // تحديث وصف الخدمة
                if (descriptionDiv) {
                    descriptionDiv.classList.add('active');

                    // إظهار وصف مختلف حسب الخدمة المختارة
                    let description = '';
                    if (serviceName.includes('متابعين')) {
                        description = 'زيادة عدد المتابعين على منصات التواصل الاجتماعي بطريقة آمنة وسريعة.';
                    } else if (serviceName.includes('رقم دائم')) {
                        description = 'الحصول على رقم هاتف دائم يمكن استخدامه للتسجيل في المواقع والتطبيقات.';
                    } else if (serviceName.includes('سحب حساب')) {
                        description = 'استرجاع السيطرة على الحسابات المخترقة أو المفقودة.';
                    } else if (serviceName.includes('اسكريبت قفل')) {
                        description = 'أداة متقدمة لقفل حسابات واتساب المستهدفة بشكل مؤقت.';
                    } else if (serviceName.includes('اختراق الهاتف')) {
                        description = 'تطبيق متطور للوصول إلى بيانات الهاتف المستهدف عن بُعد.';
                    } else if (serviceName.includes('تلغيم')) {
                        description = 'أداة متقدمة لإنشاء ملفات مخصصة لأغراض الاختبار الأمني.';
                    } else if (serviceName.includes('fishing')) {
                        description = 'أدوات فيشينج متطورة لاختبار الوعي الأمني للمستخدمين على منصات مختلفة.';
                    } else {
                        description = 'خدمة متخصصة في مجال الأمن السيبراني والاختبار الأخلاقي.';
                    }

                    descriptionDiv.innerHTML = `
                        <div class="service-description-content">
                            <h5>${serviceName}</h5>
                            <p>${description}</p>
                            <div class="service-meta">
                                <span><i class="fas fa-clock"></i> وقت التسليم: 5-20 دقيقة</span>
                                <span><i class="fas fa-shield-alt"></i> ضمان استرداد المال</span>
                            </div>
                        </div>
                    `;
                }

                // إذا كان هناك قيمة للخدمة المختارة
                if (price) {
                    if (priceInput) priceInput.value = `$${price.toFixed(2)}`;
                    if (feeInput) feeInput.value = `$${calculateFee(price).toFixed(2)}`;

                    // تحديث حالة الخدمة إذا كان العنصر موجودًا
                    const statusSpan = document.getElementById('service-status');
                    if (statusSpan) {
                        const currentLang = document.documentElement.lang || 'ar';
                        statusSpan.textContent = (translations[currentLang] && translations[currentLang].available) || 'متوفر';
                    }

                    // تحديث المبلغ الإجمالي
                    if (typeof updateAmount === 'function') {
                        updateAmount();
                    }
                } else {
                    if (priceInput) priceInput.value = '';
                    if (feeInput) feeInput.value = '';
                    if (amountInput) amountInput.value = '';
                }

                // إظهار إشعار للمستخدمين غير المسجلين
                const membersNotice = document.querySelector('.members-only-notice');
                if (membersNotice) {
                    const isLoggedIn = document.body.classList.contains('logged-in');
                    membersNotice.style.display = isLoggedIn ? 'none' : 'block';
                }
            } catch (error) {
                console.error('حدث خطأ أثناء تحديث سعر الخدمة:', error);
            }
        }

        // Update total amount (price + fee)
        function updateAmount() {
            try {
                const serviceSelect = document.getElementById('service');
                const paymentMethodSelect = document.getElementById('payment-method');
                const amountInput = document.getElementById('amount');

                if (!serviceSelect || !paymentMethodSelect || !amountInput) {
                    console.error('أحد العناصر المطلوبة غير موجود');
                    return;
                }

                const paymentMethod = paymentMethodSelect.value;
                const price = parseFloat(serviceSelect.value);

                if (price && paymentMethod) {
                    const fee = calculateFee(price);
                    const total = price + fee;
                    amountInput.value = `$${total.toFixed(2)}`;
                } else {
                    amountInput.value = '';
                }
            } catch (error) {
                console.error('حدث خطأ أثناء تحديث المبلغ الإجمالي:', error);
            }
        }

        // Show payment details section
        function showPaymentDetails() {
            try {
                const serviceSelect = document.getElementById('service');
                const paymentMethodSelect = document.getElementById('payment-method');
                const accountNumberInput = document.getElementById('account-number');
                const downloadLinkInput = document.getElementById('download-link');
                const step1 = document.getElementById('step1');
                const paymentDetails = document.getElementById('payment-details');
                const progressBar = document.getElementById('progress-bar');

                if (!serviceSelect || !paymentMethodSelect || !accountNumberInput || !downloadLinkInput || !step1 || !paymentDetails || !progressBar) {
                    console.error('أحد العناصر المطلوبة غير موجود');
                    return;
                }

                const service = serviceSelect.value;
                const paymentMethod = paymentMethodSelect.value;

                // الحصول على اسم الخدمة المختارة من القائمة المنسدلة
                const selectedService = serviceSelect.options[serviceSelect.selectedIndex] ?
                    serviceSelect.options[serviceSelect.selectedIndex].text.split(' - ')[0] : '';

                if (!service || !paymentMethod) {
                    if (typeof showToast === 'function') {
                        const currentLang = document.documentElement.lang || 'ar';
                        const message = (translations[currentLang] && translations[currentLang].required) || 'يرجى اختيار الخدمة ووسيلة الدفع';
                        showToast(message, 'error');
                    } else {
                        alert('يرجى اختيار الخدمة ووسيلة الدفع');
                    }
                    return;
                }

                // تعيين رقم الحساب بناءً على وسيلة الدفع المختارة
                if (typeof config !== 'undefined' && config.accountNumbers && config.accountNumbers[paymentMethod]) {
                    accountNumberInput.value = config.accountNumbers[paymentMethod];
                } else {
                    const currentLang = document.documentElement.lang || 'ar';
                    accountNumberInput.value = (translations[currentLang] && translations[currentLang].notAvailable) || 'غير متوفر';
                }

                // تعيين رابط التحميل (مؤقت)
                downloadLinkInput.value = `http://pjalfvojivvoiz3e3qoimbz54q56zhhumk7bd5yxw7hn5qcsswxr2zqd.onion`; // Placeholder link
                downloadLinkInput.classList.add('blurred-link');

                // تحديث واجهة المستخدم
                step1.style.display = 'none';
                paymentDetails.style.display = 'block';
                progressBar.value = 100; // تحديث قيمة شريط التقدم

                // حفظ التفضيلات إذا كانت الدالة متاحة
                if (typeof savePreferences === 'function') {
                    savePreferences();
                }

                console.log('تم الانتقال إلى تفاصيل الدفع بنجاح');
            } catch (error) {
                console.error('حدث خطأ أثناء محاولة عرض تفاصيل الدفع:', error);
            }
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            const toastEl = document.getElementById('toast');
            const toastBody = toastEl.querySelector('.toast-body');
            toastBody.textContent = message;
            toastEl.classList.remove('bg-success', 'bg-danger');
            toastEl.classList.add(type === 'success' ? 'bg-success' : 'bg-danger');

            if (typeof bootstrap !== 'undefined' && bootstrap.Toast) {
                const toast = new bootstrap.Toast(toastEl, { autohide: true, delay: 5000 });
                toast.show();
            } else {
                alert(message);
            }
        }

        // Save user preferences to localStorage
        function savePreferences() {
            const service = document.getElementById('service').value;
            const paymentMethod = document.getElementById('payment-method').value;
            if (service && paymentMethod) {
                localStorage.setItem('preferredService', service);
                localStorage.setItem('preferredPaymentMethod', paymentMethod);
            }
        }

        // Initialize form fields to be empty
        function initializeForm() {
            // إعادة تعيين القائمة المنسدلة للخدمة
            document.getElementById('service').value = '';

            document.getElementById('payment-method').value = '';
            document.getElementById('price').value = '';
            document.getElementById('fee').value = '';
            document.getElementById('amount').value = '';
            document.getElementById('service-status').textContent = '';
            document.getElementById('service-description').textContent = '';
            document.getElementById('service-description').classList.remove('active');
            document.getElementById('account-number').value = '';
            document.getElementById('screenshot').value = '';
            document.getElementById('download-link').value = '';
            document.getElementById('download-link').classList.remove('active');
            document.getElementById('telegram-account').value = '';
            document.getElementById('order-status').value = 'pending';
            document.getElementById('step1').style.display = 'block';
            document.getElementById('payment-details').style.display = 'none';
            document.getElementById('progress-bar').style.width = '50%';
        }

        // Load user preferences from localStorage (only after user interaction)
        function loadPreferences() {
            // Preferences are not loaded automatically on page load
        }

        // Apply saved preferences (called manually if needed)
        function applyPreferences() {
            const service = localStorage.getItem('preferredService');
            const paymentMethod = localStorage.getItem('preferredPaymentMethod');
            if (service && paymentMethod) {
                // تحديث القائمة المنسدلة للخدمة
                document.getElementById('service').value = service;

                document.getElementById('payment-method').value = paymentMethod;
                updatePrice();
                updateAmount();
            }
        }

        // Validate Telegram account
        function validateTelegramAccount(telegram) {
            const telegramRegex = /^@[A-Za-z0-9_]{5,}$/;
            return telegramRegex.test(telegram);
        }

        // Send data to Telegram Bot
        async function sendToTelegramBot(data, screenshot) {
            const { service, paymentMethod, amount, telegramAccount, accountNumber, downloadLink } = data;
            const botToken = config.telegramBotToken;
            const chatId = config.telegramChatId;

            // التحقق من إعدادات التكوين
            if (!botToken || !chatId) {
                console.error('Configuration Error: telegramBotToken or telegramChatId is missing in config.js');
                showToast('خطأ في الإعدادات: رمز البوت أو معرف الدردشة غير موجود.', 'error');
                return false;
            }

            const text = `
📋 *${translations[currentLang].newOrder || 'طلب جديد'}*
🛠 *${translations[currentLang].confirmationService}:* ${service}
💳 *${translations[currentLang].selectPayment}:* ${paymentMethod}
💰 *${translations[currentLang].confirmationAmount}:* ${amount}
📱 *${translations[currentLang].confirmationTelegram}:* ${telegramAccount}
🏦 *${translations[currentLang].accountNumber}:* ${accountNumber}
🔗 *${translations[currentLang].confirmationDownload}:* ${downloadLink}
📅 *${translations[currentLang].date || 'التاريخ'}:* ${new Date().toLocaleString()}
            `.trim();

            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('caption', text);
            formData.append('parse_mode', 'Markdown');

            if (screenshot) {
                // التحقق من حجم الصورة (الحد الأقصى 10 ميغابايت لـ Telegram)
                if (screenshot.size > 10 * 1024 * 1024) {
                    showToast('الصورة كبيرة جدًا. يرجى رفع صورة أقل من 10 ميغابايت.', 'error');
                    console.error('Error: Image size exceeds 10MB limit');
                    return false;
                }
                formData.append('photo', screenshot);
            } else {
                formData.append('text', text);
            }

            try {
                const endpoint = screenshot
                    ? `https://api.telegram.org/bot${botToken}/sendPhoto`
                    : `https://api.telegram.org/bot${botToken}/sendMessage`;

                const response = await fetch(endpoint, {
                    method: 'POST',
                    body: formData
                });

                const responseData = await response.json(); // قراءة استجابة JSON

                if (!response.ok) {
                    console.error('Telegram API Error:', {
                        status: response.status,
                        statusText: response.statusText,
                        responseData
                    });
                    throw new Error(`فشل إرسال البيانات إلى Telegram: ${responseData.description || 'خطأ غير معروف'}`);
                }

                if (!responseData.ok) {
                    console.error('Telegram API Response Error:', responseData);
                    throw new Error(`خطأ في واجهة Telegram: ${responseData.description}`);
                }

                console.log('تم إرسال الرسالة إلى Telegram بنجاح:', responseData);
                return true;
            } catch (error) {
                console.error('خطأ في إرسال البيانات إلى Telegram:', error.message);
                showToast(`${translations[currentLang].telegramError}: ${error.message}`, 'error');
                return false;
            }
        }

        // Handle form submission
        document.getElementById('service-form').addEventListener('submit', async function (e) {
            e.preventDefault();
            console.log("Form submission triggered");

            try {
                const screenshotInput = document.getElementById('screenshot');
                const screenshot = screenshotInput.files[0];
                const telegramAccount = document.getElementById('telegram-account').value;

                // الحصول على اسم الخدمة المختارة من القائمة المنسدلة
                const serviceSelect = document.getElementById('service');
                const service = serviceSelect.options[serviceSelect.selectedIndex].text.split(' - ')[0];

                const paymentMethod = document.getElementById('payment-method').value;
                const amount = document.getElementById('amount').value;
                const accountNumber = document.getElementById('account-number').value;
                const downloadLink = document.getElementById('download-link').value;

                // Validate screenshot
                if (!screenshot) {
                    showToast(translations[currentLang].uploadRequired, 'error');
                    console.log("Error: Payment proof not uploaded");
                    return;
                }

                // Validate image type
                const validTypes = ['image/png', 'image/jpeg', 'image/jpg'];
                if (!validTypes.includes(screenshot.type)) {
                    showToast(translations[currentLang].invalidImage, 'error');
                    console.log("Error: Invalid image type");
                    return;
                }

                // Validate Telegram account
                if (!validateTelegramAccount(telegramAccount)) {
                    showToast(translations[currentLang].invalidTelegram, 'error');
                    console.log("Error: Invalid Telegram account");
                    return;
                }

                // Prepare data for Telegram
                const telegramData = {
                    service,
                    paymentMethod,
                    amount,
                    telegramAccount,
                    accountNumber,
                    downloadLink
                };

                // Send data to Telegram
                const telegramSent = await sendToTelegramBot(telegramData, screenshot);
                if (!telegramSent) {
                    showToast(translations[currentLang].telegramError, 'error');
                    console.log("Error: Failed to send data to Telegram");
                    return;
                }

                // Success: Update UI and show confirmation
                showToast(translations[currentLang].success, 'success');
                console.log("Success: Payment confirmed");
                document.getElementById('order-status').value = 'processing';
                document.getElementById('download-link').classList.add('active');

                // Show confirmation modal
                const modal = new bootstrap.Modal(document.getElementById('confirmationModal'), { keyboard: false });
                document.getElementById('modal-service').textContent = service;
                document.getElementById('modal-amount').textContent = amount;
                document.getElementById('modal-telegram').textContent = telegramAccount;
                document.getElementById('modal-download-link').href = downloadLink;
                document.getElementById('modal-download-link').textContent = translations[currentLang].confirmationDownload;
                modal.show();

                // Simulate order processing (10 minutes)
                setTimeout(() => {
                    document.getElementById('order-status').value = 'completed';
                    initializeForm(); // Reset form after success
                }, 600000); // 10 minutes

            } catch (error) {
                console.error("Form submission error:", error);
                showToast(translations[currentLang].unexpectedError, 'error');
            }
        });

        // Input validation
        function validateInput(input) {
            return input && input.trim() !== '';
        }

        // Language switcher
        let currentLang = 'ar';
        document.getElementById('language').addEventListener('change', function () {
            currentLang = this.value;
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            updateLanguage();
        });

        // Update UI based on selected language
        function updateLanguage() {
            // Landing page
            document.querySelector('#landing-page h1').textContent = translations[currentLang].welcomeTitle;
            document.querySelector('#landing-page p').textContent = translations[currentLang].welcomeText;
            document.querySelector('#landing-page .btn-custom').textContent = translations[currentLang].join;

            // Header
            document.querySelector('.logo-text').textContent = translations[currentLang].title;

            // Client info section
            document.querySelectorAll('.section-title')[0].textContent = translations[currentLang].clientInfo;
            document.querySelectorAll('.form-label')[0].textContent = translations[currentLang].selectService;
            document.querySelectorAll('.form-label')[1].textContent = translations[currentLang].servicePrice;
            document.querySelectorAll('.form-label')[2].textContent = translations[currentLang].transferFee;
            document.querySelectorAll('.form-label')[3].textContent = translations[currentLang].selectPayment;
            document.querySelectorAll('.form-label')[4].textContent = translations[currentLang].totalAmount;
            document.querySelectorAll('.btn-custom')[1].textContent = translations[currentLang].next;
            document.querySelector('.alert-info').textContent = translations[currentLang].paymentDetails;
            document.querySelectorAll('.form-label')[5].textContent = translations[currentLang].accountNumber;
            document.querySelectorAll('.form-label')[6].textContent = translations[currentLang].uploadProof;
            document.querySelectorAll('.form-label')[7].textContent = translations[currentLang].tooltipDownloadLink;
            document.querySelectorAll('.form-label')[8].textContent = translations[currentLang].telegramAccount;
            document.querySelectorAll('.form-label')[9].textContent = translations[currentLang].orderStatus;
            document.querySelector('#confirm-payment').textContent = translations[currentLang].confirmPayment;

            // Transactions and popular services
            document.querySelectorAll('.section-title')[1].textContent = translations[currentLang].transactions;
            document.querySelectorAll('.section-title')[2].textContent = translations[currentLang].popularServices;

            // Error page
            document.querySelector('#error-page h2').textContent = translations[currentLang].error;
            document.querySelector('#error-page p').textContent = translations[currentLang].errorMessage;
            document.querySelector('#error-page .btn-custom').textContent = translations[currentLang].retry;

            // Tooltips
            document.querySelectorAll('.tooltip-text')[0].textContent = translations[currentLang].tooltipService;
            document.querySelectorAll('.tooltip-text')[1].textContent = translations[currentLang].tooltipPrice;
            document.querySelectorAll('.tooltip-text')[2].textContent = translations[currentLang].tooltipFee;
            document.querySelectorAll('.tooltip-text')[3].textContent = translations[currentLang].tooltipPayment;
            document.querySelectorAll('.tooltip-text')[4].textContent = translations[currentLang].tooltipAmount;
            document.querySelectorAll('.tooltip-text')[5].textContent = translations[currentLang].tooltipAccount;
            document.querySelectorAll('.tooltip-text')[6].textContent = translations[currentLang].tooltipProof;
            document.querySelectorAll('.tooltip-text')[7].textContent = translations[currentLang].tooltipDownloadLink;
            document.querySelectorAll('.tooltip-text')[8].textContent = translations[currentLang].tooltipTelegram;
            document.querySelectorAll('.tooltip-text')[9].textContent = translations[currentLang].tooltipStatus;

            // Update placeholder for Telegram input
            document.getElementById('telegram-account').placeholder = currentLang === 'ar' ? '@username' : 'Enter @username';

            // Update table headers
            const tableHeaders = document.querySelectorAll('#transaction-table th');
            tableHeaders[0].textContent = translations[currentLang].client || 'العميل';
            tableHeaders[1].textContent = translations[currentLang].confirmationService || 'الخدمة';
            tableHeaders[2].textContent = translations[currentLang].confirmationAmount || 'المبلغ';
            tableHeaders[3].textContent = translations[currentLang].selectPayment || 'طريقة الدفع';
            tableHeaders[4].textContent = translations[currentLang].transactionId || 'رقم العملية';
            tableHeaders[5].textContent = translations[currentLang].date || 'التاريخ';

            // Update visitor counter
            document.querySelector('.visitor-counter h3').textContent = translations[currentLang].visitorCount;
            document.querySelector('.visitor-counter .btn-custom').textContent = translations[currentLang].showStats;

            // Update confirmation modal
            document.querySelector('#confirmationModal .modal-title').textContent = translations[currentLang].confirmationTitle;
            document.querySelector('#confirmationModal .modal-body p:nth-child(1)').textContent = translations[currentLang].confirmationSent;
            document.querySelector('#confirmationModal .modal-body p:nth-child(2)').textContent = `${translations[currentLang].confirmationService}: `;
            document.querySelector('#confirmationModal .modal-body p:nth-child(3)').textContent = `${translations[currentLang].confirmationAmount}: `;
            document.querySelector('#confirmationModal .modal-body p:nth-child(4)').textContent = `${translations[currentLang].confirmationTelegram}: `;
            document.querySelector('#confirmationModal .modal-body p:nth-child(5)').textContent = `${translations[currentLang].confirmationDownload}: `;

            // Update chat window
            document.querySelector('.chat-header').textContent = translations[currentLang].chatHeader;
            document.querySelector('.chat-body').textContent = translations[currentLang].chatBody;
            document.querySelector('.chat-input').placeholder = translations[currentLang].chatPlaceholder;

            // Update toast notification
            document.querySelector('.toast-header .me-auto').textContent = translations[currentLang].notification;

            // Update visitor stats title
            if (document.querySelector('.visitor-stats h3')) {
                document.querySelector('.visitor-stats h3').textContent = translations[currentLang].visitorStats;
            }

            // تحديث عناوين بطاقات الخدمات حسب اللغة المختارة
            const serviceCards = document.querySelectorAll('.service-card');
            serviceCards.forEach(card => {
                const serviceName = card.getAttribute('data-service');
                const serviceIcon = card.querySelector('.service-card-icon i');
                const serviceTitle = card.querySelector('.service-card-content h5');

                // تحديث عناوين الخدمات الأساسية حسب اللغة
                if (serviceName === "زياده متابعين" && currentLang === 'en') {
                    serviceTitle.textContent = "Increase Followers";
                    card.setAttribute('data-service', "Increase Followers");
                } else if (serviceName === "Increase Followers" && currentLang === 'ar') {
                    serviceTitle.textContent = "زياده متابعين";
                    card.setAttribute('data-service', "زياده متابعين");
                } else if (serviceName === "شراء رقم دائم" && currentLang === 'en') {
                    serviceTitle.textContent = "Buy Permanent Number";
                    card.setAttribute('data-service', "Buy Permanent Number");
                } else if (serviceName === "Buy Permanent Number" && currentLang === 'ar') {
                    serviceTitle.textContent = "شراء رقم دائم";
                    card.setAttribute('data-service', "شراء رقم دائم");
                }
                // يمكن إضافة المزيد من الخدمات هنا
            });

            // تحديث عناوين فئات الخدمات
            const categoryTitles = document.querySelectorAll('.service-category-title');
            if (categoryTitles.length >= 1) {
                categoryTitles[0].innerHTML = currentLang === 'ar' ?
                    '<i class="fas fa-star me-2"></i>الخدمات الأساسية' :
                    '<i class="fas fa-star me-2"></i>Basic Services';
            }
            if (categoryTitles.length >= 2) {
                categoryTitles[1].innerHTML = currentLang === 'ar' ?
                    '<i class="fas fa-crown me-2"></i>الخدمات المتقدمة' :
                    '<i class="fas fa-crown me-2"></i>Advanced Services';
            }
            if (categoryTitles.length >= 3) {
                categoryTitles[2].innerHTML = currentLang === 'ar' ?
                    '<i class="fas fa-fish me-2"></i>أدوات الفيشينج' :
                    '<i class="fas fa-fish me-2"></i>Phishing Tools';
            }
            if (categoryTitles.length >= 4) {
                categoryTitles[3].innerHTML = currentLang === 'ar' ?
                    '<i class="fas fa-bug me-2"></i>ثغرات أمنية' :
                    '<i class="fas fa-bug me-2"></i>Security Vulnerabilities';
            }
            if (categoryTitles.length >= 5) {
                categoryTitles[4].innerHTML = currentLang === 'ar' ?
                    '<i class="fas fa-database me-2"></i>قواعد بيانات' :
                    '<i class="fas fa-database me-2"></i>Databases';
            }
            if (categoryTitles.length >= 6) {
                categoryTitles[5].innerHTML = currentLang === 'ar' ?
                    '<i class="fas fa-tools me-2"></i>أدوات متقدمة' :
                    '<i class="fas fa-tools me-2"></i>Advanced Tools';
            }
        }
}

// تم نقل دالة openChat() إلى الأعلى لتجنب التكرار

// فتح لوحة المشرف
function openAdminPanel() {
    // التحقق من صلاحيات المشرف
    if (!membershipSystem.isAdminUser()) {
        showToast('ليس لديك صلاحية للوصول إلى لوحة المشرف', 'error');
        return;
    }

    // تحديث قائمة طلبات التسجيل المعلقة
    updatePendingRegistrations();

    // تحديث قائمة التعليقات المعلقة
    updatePendingComments();

    // تحديث قائمة المستخدمين
    updateUsersList();

    // تحديث إحصائيات الموقع
    updateSiteStats();

    // عرض نافذة لوحة المشرف
    const adminPanelModal = new bootstrap.Modal(document.getElementById('admin-panel-modal'));
    adminPanelModal.show();
}

// تحديث قائمة المستخدمين
function updateUsersList() {
    const usersList = document.getElementById('users-list');
    usersList.innerHTML = '';

    // الحصول على قائمة المستخدمين
    const users = membershipSystem.getUsers();

    // الحصول على دور المستخدم الحالي
    const currentUserRole = membershipSystem.getCurrentUserRole();

    if (users.length === 0) {
        usersList.innerHTML = '<tr><td colspan="5" class="text-center">لا يوجد مستخدمين</td></tr>';
        return;
    }

    // إنشاء صف لكل مستخدم
    users.forEach(user => {
        const tr = document.createElement('tr');

        // تحديد لون الصف حسب دور المستخدم
        if (user.role === 'super_admin') {
            tr.classList.add('table-primary');
        } else if (user.role === 'admin') {
            tr.classList.add('table-info');
        } else if (user.role === 'moderator') {
            tr.classList.add('table-warning');
        }

        // إنشاء خلايا الجدول
        tr.innerHTML = `
            <td>${user.username}</td>
            <td>${user.email}</td>
            <td>${new Date(user.registrationDate).toLocaleDateString()}</td>
            <td>${getUserRoleText(user.role)}</td>
            <td>${getVerificationStatus(user.isVerified)}</td>
            <td>
                <div class="btn-group btn-group-sm">
                    ${getActionButtons(user, currentUserRole)}
                </div>
            </td>
        `;

        usersList.appendChild(tr);
    });

    // إضافة مستمعي الأحداث للأزرار
    addUserActionListeners();
}

// الحصول على نص دور المستخدم
function getUserRoleText(role) {
    switch (role) {
        case 'super_admin':
            return '<span class="badge bg-primary">مشرف رئيسي</span>';
        case 'admin':
            return '<span class="badge bg-info">مشرف</span>';
        case 'moderator':
            return '<span class="badge bg-warning">مشرف محدود</span>';
        default:
            return '<span class="badge bg-secondary">مستخدم</span>';
    }
}

// الحصول على حالة توثيق المستخدم
function getVerificationStatus(isVerified) {
    if (isVerified) {
        return '<span class="badge bg-success"><i class="fas fa-check-circle me-1"></i> موثق</span>';
    } else {
        return '<span class="badge bg-secondary"><i class="fas fa-times-circle me-1"></i> غير موثق</span>';
    }
}

// الحصول على أزرار الإجراءات المتاحة للمستخدم
function getActionButtons(user, currentUserRole) {
    let buttons = '';

    // لا يمكن تعديل المشرف الرئيسي
    if (user.role === 'super_admin') {
        return '<button class="btn btn-outline-secondary" disabled>لا يمكن تعديل المشرف الرئيسي</button>';
    }

    // زر توثيق/إلغاء توثيق المستخدم (متاح لجميع المشرفين)
    if (currentUserRole === 'super_admin' || currentUserRole === 'admin' || currentUserRole === 'moderator') {
        const verifyButtonText = user.isVerified ? 'إلغاء التوثيق' : 'توثيق الحساب';
        const verifyButtonClass = user.isVerified ? 'btn-outline-success' : 'btn-success';
        buttons += `<button class="btn ${verifyButtonClass} verify-user" data-user-id="${user.id}">${verifyButtonText}</button>`;
    }

    // المشرف الرئيسي يمكنه القيام بجميع الإجراءات
    if (currentUserRole === 'super_admin') {
        if (user.role === 'admin') {
            buttons += `<button class="btn btn-warning demote-user" data-user-id="${user.id}">تخفيض إلى مشرف محدود</button>`;
        } else if (user.role === 'moderator') {
            buttons += `<button class="btn btn-info promote-to-admin" data-user-id="${user.id}">ترقية إلى مشرف</button>`;
            buttons += `<button class="btn btn-warning demote-user" data-user-id="${user.id}">تخفيض إلى مستخدم</button>`;
        } else {
            buttons += `<button class="btn btn-info promote-to-admin" data-user-id="${user.id}">ترقية إلى مشرف</button>`;
            buttons += `<button class="btn btn-warning promote-to-moderator" data-user-id="${user.id}">ترقية إلى مشرف محدود</button>`;
        }
        buttons += `<button class="btn btn-danger delete-user" data-user-id="${user.id}">حذف</button>`;
    }
    // المشرف العادي يمكنه ترقية المستخدمين العاديين إلى مشرفين محدودين وحذف المستخدمين العاديين
    else if (currentUserRole === 'admin') {
        if (user.role === 'admin') {
            buttons += '<button class="btn btn-outline-secondary" disabled>لا يمكن تعديل مشرف آخر</button>';
        } else if (user.role === 'moderator') {
            buttons += `<button class="btn btn-warning demote-user" data-user-id="${user.id}">تخفيض إلى مستخدم</button>`;
        } else {
            buttons += `<button class="btn btn-warning promote-to-moderator" data-user-id="${user.id}">ترقية إلى مشرف محدود</button>`;
            buttons += `<button class="btn btn-danger delete-user" data-user-id="${user.id}">حذف</button>`;
        }
    }
    // المشرف المحدود لا يمكنه تعديل المستخدمين
    else if (currentUserRole === 'moderator') {
        if (user.role === 'admin' || user.role === 'moderator') {
            buttons += '<button class="btn btn-outline-secondary" disabled>لا يمكن تعديل المشرفين</button>';
        } else {
            buttons += '<button class="btn btn-outline-secondary" disabled>صلاحيات محدودة</button>';
        }
    }

    return buttons;
}

// إضافة مستمعي الأحداث لأزرار إدارة المستخدمين
function addUserActionListeners() {
    // أزرار ترقية المستخدم إلى مشرف
    document.querySelectorAll('.promote-to-admin').forEach(button => {
        button.addEventListener('click', function() {
            const userId = this.getAttribute('data-user-id');
            promoteUserToAdmin(userId);
        });
    });

    // أزرار ترقية المستخدم إلى مشرف محدود
    document.querySelectorAll('.promote-to-moderator').forEach(button => {
        button.addEventListener('click', function() {
            const userId = this.getAttribute('data-user-id');
            promoteUserToModerator(userId);
        });
    });

    // أزرار تخفيض مستوى صلاحيات المستخدم
    document.querySelectorAll('.demote-user').forEach(button => {
        button.addEventListener('click', function() {
            const userId = this.getAttribute('data-user-id');
            demoteUser(userId);
        });
    });

    // أزرار حذف المستخدم
    document.querySelectorAll('.delete-user').forEach(button => {
        button.addEventListener('click', function() {
            const userId = this.getAttribute('data-user-id');
            deleteUser(userId);
        });
    });

    // أزرار توثيق/إلغاء توثيق المستخدم
    document.querySelectorAll('.verify-user').forEach(button => {
        button.addEventListener('click', function() {
            const userId = this.getAttribute('data-user-id');
            verifyUser(userId);
        });
    });
}

// ترقية مستخدم إلى مشرف
function promoteUserToAdmin(userId) {
    if (confirm('هل أنت متأكد من ترقية هذا المستخدم إلى مشرف كامل الصلاحيات؟')) {
        const result = membershipSystem.promoteToAdmin(userId);
        showToast(result.message, result.success ? 'success' : 'error');
        if (result.success) {
            updateUsersList();
        }
    }
}

// ترقية مستخدم إلى مشرف محدود
function promoteUserToModerator(userId) {
    if (confirm('هل أنت متأكد من ترقية هذا المستخدم إلى مشرف محدود الصلاحيات؟')) {
        const result = membershipSystem.promoteToModerator(userId);
        showToast(result.message, result.success ? 'success' : 'error');
        if (result.success) {
            updateUsersList();
        }
    }
}

// تخفيض مستوى صلاحيات مستخدم
function demoteUser(userId) {
    if (confirm('هل أنت متأكد من تخفيض مستوى صلاحيات هذا المستخدم؟')) {
        const result = membershipSystem.demoteUser(userId);
        showToast(result.message, result.success ? 'success' : 'error');
        if (result.success) {
            updateUsersList();
        }
    }
}

// حذف مستخدم
function deleteUser(userId) {
    if (confirm('هل أنت متأكد من حذف هذا المستخدم؟ لا يمكن التراجع عن هذه العملية.')) {
        const result = membershipSystem.deleteUser(userId);
        showToast(result.message, result.success ? 'success' : 'error');
        if (result.success) {
            updateUsersList();
            updateSiteStats();
        }
    }
}

// توثيق/إلغاء توثيق حساب مستخدم
function verifyUser(userId) {
    const result = membershipSystem.verifyUser(userId);
    showToast(result.message, result.success ? 'success' : 'error');
    if (result.success) {
        updateUsersList();
    }
}

// Visitor counter
let visitorCount = 63247;
function updateVisitorCount() {
visitorCount += Math.floor(Math.random() * 4) + 1;
document.getElementById('visitor-count').textContent = visitorCount.toLocaleString();
}
setInterval(updateVisitorCount, Math.random() * 29000 + 1000);

// Visitor stats chart
function toggleVisitorStats() {
const visitorStats = document.getElementById('visitor-stats');
visitorStats.classList.toggle('active');
if (visitorStats.classList.contains('active')) {
initializeChart();
}
}

function initializeChart() {
const ctx = document.getElementById('visitorChart').getContext('2d');
new Chart(ctx, {
type: 'line',
data: {
labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
datasets: [{
label: translations[currentLang].visitorStats || 'Visitor Statistics',
data: [5000, 10000, 15000, 20000, 30000, 63247],
borderColor: '#00ff99',
backgroundColor: 'rgba(0, 255, 153, 0.2)',
fill: true,
tension: 0.4
}]
},
options: {
responsive: true,
scales: {
y: {
beginAtZero: true,
ticks: { color: '#ffffff' },
grid: { color: 'rgba(255, 255, 255, 0.1)' }
},
x: {
ticks: { color: '#ffffff' },
grid: { color: 'rgba(255, 255, 255, 0.1)' }
}
},
plugins: {
legend: {
labels: { color: '#ffffff' }
}
}
}
});
}

// دالة إظهار اللوحة الرئيسية
function showMainPanel() {
    document.getElementById('landing-page').style.display = 'none';
    document.getElementById('main-panel').style.display = 'block';

    // تحديث واجهة المستخدم بناءً على حالة تسجيل الدخول
    if (typeof membershipSystem !== 'undefined' && membershipSystem.isLoggedIn()) {
        updateUIForLoggedInUser();
    } else {
        updateUIForGuest();
    }
}

// Initialize page
document.addEventListener('DOMContentLoaded', () => {
    try {
        // تهيئة النموذج
        if (typeof initializeForm === 'function') {
            initializeForm();
        }

        // تحديث اللغة
        if (typeof updateLanguage === 'function') {
            updateLanguage();
        }

        // تحديث قائمة المستخدمين عند النقر على زر التحديث
        const refreshBtn = document.getElementById('refresh-users-list-btn');
        if (refreshBtn) {
            refreshBtn.addEventListener('click', function() {
                if (typeof updateUsersList === 'function') {
                    updateUsersList();
                    if (typeof showToast === 'function') {
                        showToast('تم تحديث قائمة المستخدمين', 'success');
                    }
                }
            });
        }

        // إنشاء مشرف افتراضي إذا لم يكن موجودًا
        if (typeof membershipSystem !== 'undefined' && typeof membershipSystem.createDefaultAdmin === 'function') {
            membershipSystem.createDefaultAdmin();
        }

        console.log('تم تهيئة الصفحة بنجاح');
    } catch (error) {
        console.error('حدث خطأ أثناء تهيئة الصفحة:', error);
    }
});

// Debugging: Log language changes
try {
    const langSelector = document.getElementById('language');
    if (langSelector) {
        langSelector.addEventListener('change', () => {
            if (typeof currentLang !== 'undefined') {
                console.log(`Language switched to: ${currentLang}`);
            }
        });
    }
} catch (error) {
    console.error('حدث خطأ في إعداد مستمع تغيير اللغة:', error);
}
// منع التكبير والتصغير فقط
document.addEventListener('wheel', (event) => {
    // منع التكبير والتصغير باستخدام Ctrl + عجلة الماوس
    if (event.ctrlKey) {
        event.preventDefault();
    }
}, { passive: false });

// منع التكبير والتصغير على الأجهزة المحمولة
document.addEventListener('touchmove', (event) => {
    // منع التكبير والتصغير فقط
    if (event.scale !== undefined && event.scale !== 1) {
        event.preventDefault();
    }
}, { passive: false });

// منع السحب الزائد فقط في الحالات القصوى
document.addEventListener('touchstart', (event) => {
    // نسمح بالتمرير العادي
    if (event.touches.length !== 1) {
        return;
    }

    const scrollTop = window.scrollY || document.documentElement.scrollTop;
    const windowHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    const touchY = event.touches[0].clientY;

    // منع السحب الزائد فقط في الحالات القصوى جدًا
    if ((touchY < 5 && scrollTop <= 0) ||
        (touchY > windowHeight - 5 && scrollTop + windowHeight >= documentHeight - 5)) {
        // نمنع فقط في حالة الوصول للحدود القصوى
        event.preventDefault();
    }
}, { passive: false });

// تحديث التاريخ والوقت في الفحص الأمني
function updateSecurityCheck() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const securityCheck = document.getElementById('last-security-check');
    if (securityCheck) {
        securityCheck.textContent = 'اليوم ' + hours + ':' + minutes;
    }
}

// تحديث الفحص الأمني كل دقيقة
setInterval(updateSecurityCheck, 60000);
updateSecurityCheck();
</script>

<!-- إضافة ملف معالج زر الدخول الآن -->
<script src="login-handler.js"></script>

<!-- إضافة ملف تحديث السعر والرسوم والمبلغ الإجمالي -->
<script src="update-price.js"></script>

</body>
</html>